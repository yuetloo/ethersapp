!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){(function(b){"use strict";function c(a,b){var c=null;Object.defineProperty(a,b,{enumerable:!0,get:function(){return c},set:function(a){c=a}})}function d(){var a=Array.prototype.slice.call(arguments);a.unshift("[Ethers Client Library]");var b=!0;a.forEach(function(a){"string"!=typeof a&&(b=!1)}),b&&(a=[a.join(" ")]),console.log.apply(console,a)}function e(a,b,c,d){var e=null,f=null,g=new Promise(function(a){e=function(b){f=b,a(f),e=null}});return b.forEach(function(b){n.defineProperty(a,b,function(){var a=Array.prototype.slice.call(arguments);return g.then(function(c){return c[b].apply(c,a)})})}),c.forEach(function(b){n.defineProperty(a,b,function(){var c=Array.prototype.slice.call(arguments);return g.then(function(a){a[b].apply(a,c)}),a})}),d.forEach(function(b){Object.defineProperty(a,b,{enumerable:!0,get:function(){if(!f)throw new Error("cannot access property before connection: "+b);return f[b]}})}),n.defineProperty(a,"ready",function(){return g.then(function(a){return null})}),e}function f(){}function g(){}function h(a){this.parentUrl=a,this.nextMessageId=1,this.pending=[],this.inflightCallbacks={},this.window=null}function i(a){n.defineProperty(this,"_handler",a)}function j(a){return a.parent===a||a.ethersSkip?Promise.reject(new Error("no container")):new Promise(function(b,c){var e=new h("*"),f=null;e.sendMessage("getNetwork",{},function(a,g){return null===f?c(new Error("Ethers container took too long to reply. Not setting up.")):(d("Connected to Ethers Wallet Container: network="+g),clearTimeout(f),f=null,"mainnet"===g?g="homestead":"testnet"===g&&(g="ropsten"),q(m.getDefaultProvider(g)),s(new i(e)),n.defineProperty(t,"loadApplication",function(a){return new Promise(function(b,c){e.sendMessage("loadApplication",{url:a},function(a){return a?c(a):void b()})})}),void b(t))}),a.document.addEventListener("DOMContentLoaded",function(){e.setupWindow(a),f=setTimeout(function(){f=null,c(new Error("In a container, but not Ethers. Falling back."))},2e3)})})}function k(a){a.ethers&&(t._ethers=a.ethers),a.ethers=t;var b=a.web3,c=new o;a.Web3?a.web3=new a.Web3(c):a.web3={currentProvider:c},j(a).then(function(a){c.connectEthers(a.provider,a.signer)})["catch"](function(e){var f=a.ethersNetwork||"homestead";if(b&&b.currentProvider){d("Connected Injected Web3: network="+f),c.connectWeb3(b.currentProvider);var h=new m.Web3Provider(a.web3.currentProvider,f);q(h),s(h.getSigner())}else{d("Connected Default Provider: network="+f),q(m.getDefaultProvider(f));var i=new g;n.defineProperty(i,"getAddress",function(){return Promise.resolve(null)}),n.defineProperty(i,"getBalance",function(){return Promise.reject(new Error("no signer"))}),n.defineProperty(i,"sendTransaction",function(){return Promise.reject(new Error("no signer"))}),n.defineProperty(i,"signMessage",function(){return Promise.reject(new Error("no signer"))}),s(i),c.connectEthers(p)}}).then(function(){w()})}var l=a("ethers-contracts/contract"),m=a("ethers-providers"),n=a("ethers-utils"),o=a("ethers-web3-bridge"),p=new f,q=e(p,["getBlockNumber","getGasPrice","getBalance","getTransactionCount","getCode","getStorageAt","call","estimateGas","getBlock","getTransaction","getTransactionReceipt","getLogs","resolveName","waitForTransaction"],["on","once","removeAllListeners","removeListener"],["listenerCount","listeners","chainId","ensAddress","name"]),r=new g;n.defineProperty(r,"provider",p);var s=e(r,["getAddress","getBalance","sendTransaction","signMessage"],[],[]),t={};n.defineProperty(t,"provider",p),n.defineProperty(t,"signer",r);var u={};n.defineProperty(t,"utils",u);var v={};n.defineProperty(t,"blockchain",v);var w=function(){function a(){if(d("Ready"),b=!0,c){var a=c;setTimeout(function(){a()})}}var b=!1,c=null;return Object.defineProperty(t,"onready",{enumerable:!0,get:function(){return c},set:function(d){c=d,b&&a()}}),a}();c(t,"onaccount"),n.defineProperty(t,"getAddress",n.getAddress),n.defineProperty(t,"formatEther",n.formatEther),n.defineProperty(t,"parseEther",n.parseEther),n.defineProperty(t,"formatUnits",n.formatUnits),n.defineProperty(t,"parseUnits",n.parseUnits),n.defineProperty(t,"etherSymbol",n.etherSymbol),n.defineProperty(u,"arrayify",n.arrayify),n.defineProperty(u,"bigNumberify",n.bigNumberify),n.defineProperty(u,"concat",n.concat),n.defineProperty(u,"hexlify",n.hexlify),n.defineProperty(u,"id",n.id),n.defineProperty(u,"keccak256",n.keccak256),n.defineProperty(u,"sha256",n.sha256),n.defineProperty(u,"solidityKeccak256",n.solidityKeccak256),n.defineProperty(u,"soliditySha256",n.soliditySha256),n.defineProperty(u,"namehash",n.namehash),n.defineProperty(u,"toUtf8Bytes",n.toUtf8Bytes),n.defineProperty(u,"toUtf8String",n.toUtf8String),n.defineProperty(u,"getContractAddress",n.getContractAddress),n.defineProperty(t,"getContract",function(a,b){return new l(a,b,t.signer)}),n.defineProperty(t,"getAccount",function(){return t.signer.getAddress()}),n.defineProperty(t,"getNetwork",function(){return p.ready().then(function(){return t.provider.name})}),n.defineProperty(t,"sendTransaction",function(a){return t.signer.sendTransaction(a)}),n.defineProperty(t,"send",function(a,b){return t.signer.sendTransaction({to:a,value:b})}),["getBlockNumber","getGasPrice","getBalance","getTransactionCount","getCode","getStorageAt","call","estimateGas","getBlock","getTransaction","getTransactionReceipt","getLogs","resolveName","waitForTransaction"].forEach(function(a){n.defineProperty(v,a,function(){var b=Array.prototype.slice.call(arguments);return t.provider[a].apply(t.provider,b)})}),n.defineProperty(h.prototype,"setupWindow",function(a){if(this.window)throw new Error("already has window");this.window=a;var b=this;this.window.addEventListener("message",function(a){var c=a.data;if(c&&"v\n"===c.ethers)try{if(c.id){var e=b.inflightCallbacks[c.id];if(delete b.inflightCallbacks[c.id],e){var f=[null,c.result];c.error&&(f[0]=new Error(c.error)),e.apply(b.window,f)}}else switch(c.action){case"accountChanged":t.onaccount&&t.onaccount.call(b.window,c.account);break;case"ready":t.onaccount&&t.onaccount.call(b.window,c.account);break;default:throw new Error("Unknown Action: "+c.action)}}catch(g){d(g)}},!1);var c=this.buildPayload("ready",{title:this.window.document.title});this.window.parent.postMessage(c,this.parentUrl),this.pending.forEach(function(a){this.window.parent.postMessage(JSON.parse(a),this.parentUrl)},this),this.pending=null}),n.defineProperty(h.prototype,"buildPayload",function(a,b){return{action:a,ethers:"v\n",id:this.nextMessageId++,params:b}}),n.defineProperty(h.prototype,"sendMessage",function(a,b,c){var d=this.buildPayload(a,b);c&&(this.inflightCallbacks[d.id]=c),this.window?this.window.parent.postMessage(d,this.parentUrl):this.pending.push(JSON.stringify(d))}),n.defineProperty(i.prototype,"getAddress",function(){var a=this;return new Promise(function(b,c){a._handler.sendMessage("getAccount",{},function(a,d){return a?c(new Error("no account")):void b(d)})})}),n.defineProperty(i.prototype,"getBalance",function(a){return this.getAddress().then(function(a){return t.provider.getBalance(a)})}),n.defineProperty(i.prototype,"sendTransaction",function(a){var b={};for(var c in a)null!=a[c]&&(b[c]=n.hexlify(a[c]));var d=this;return new Promise(function(a,c){d._handler.sendMessage("sendTransaction",{transaction:b},function(b,d){return b?c(b):void a(d)})})}),n.defineProperty(i.prototype,"signMessage",function(a){var b=this;return new Promise(function(c,d){b._handler.sendMessage("signMessage",{message:a},function(a,b){return a?d(a):void c(b)})})}),k(b)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"ethers-contracts/contract":4,"ethers-providers":9,"ethers-utils":22,"ethers-web3-bridge":33}],2:[function(a,b,c){!function(b,c){"use strict";function d(a,b){if(!a)throw new Error(b||"Assertion failed")}function e(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}function f(a,b,c){return f.isBN(a)?a:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==a&&("le"!==b&&"be"!==b||(c=b,b=10),this._init(a||0,b||10,c||"be"))))}function g(a,b,c){for(var d=0,e=Math.min(a.length,c),f=b;f<e;f++){var g=a.charCodeAt(f)-48;d<<=4,d|=g>=49&&g<=54?g-49+10:g>=17&&g<=22?g-17+10:15&g}return d}function h(a,b,c,d){for(var e=0,f=Math.min(a.length,c),g=b;g<f;g++){var h=a.charCodeAt(g)-48;e*=d,e+=h>=49?h-49+10:h>=17?h-17+10:h}return e}function i(a){for(var b=new Array(a.bitLength()),c=0;c<b.length;c++){var d=c/26|0,e=c%26;b[c]=(a.words[d]&1<<e)>>>e}return b}function j(a,b,c){c.negative=b.negative^a.negative;var d=a.length+b.length|0;c.length=d,d=d-1|0;var e=0|a.words[0],f=0|b.words[0],g=e*f,h=67108863&g,i=g/67108864|0;c.words[0]=h;for(var j=1;j<d;j++){for(var k=i>>>26,l=67108863&i,m=Math.min(j,b.length-1),n=Math.max(0,j-a.length+1);n<=m;n++){var o=j-n|0;e=0|a.words[o],f=0|b.words[n],g=e*f+l,k+=g/67108864|0,l=67108863&g}c.words[j]=0|l,i=0|k}return 0!==i?c.words[j]=0|i:c.length--,c.strip()}function k(a,b,c){c.negative=b.negative^a.negative,c.length=a.length+b.length;for(var d=0,e=0,f=0;f<c.length-1;f++){var g=e;e=0;for(var h=67108863&d,i=Math.min(f,b.length-1),j=Math.max(0,f-a.length+1);j<=i;j++){var k=f-j,l=0|a.words[k],m=0|b.words[j],n=l*m,o=67108863&n;g=g+(n/67108864|0)|0,o=o+h|0,h=67108863&o,g=g+(o>>>26)|0,e+=g>>>26,g&=67108863}c.words[f]=h,d=g,g=e}return 0!==d?c.words[f]=d:c.length--,c.strip()}function l(a,b,c){var d=new m;return d.mulp(a,b,c)}function m(a,b){this.x=a,this.y=b}function n(a,b){this.name=a,this.p=new f(b,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function o(){n.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function p(){n.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function q(){n.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function r(){n.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function s(a){if("string"==typeof a){var b=f._prime(a);this.m=b.p,this.prime=b}else d(a.gtn(1),"modulus must be greater than 1"),this.m=a,this.prime=null}function t(a){s.call(this,a),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof b?b.exports=f:c.BN=f,f.BN=f,f.wordSize=26;var u;try{u=a("buffer").Buffer}catch(v){}f.isBN=function(a){return a instanceof f||null!==a&&"object"==typeof a&&a.constructor.wordSize===f.wordSize&&Array.isArray(a.words)},f.max=function(a,b){return a.cmp(b)>0?a:b},f.min=function(a,b){return a.cmp(b)<0?a:b},f.prototype._init=function(a,b,c){if("number"==typeof a)return this._initNumber(a,b,c);if("object"==typeof a)return this._initArray(a,b,c);"hex"===b&&(b=16),d(b===(0|b)&&b>=2&&b<=36),a=a.toString().replace(/\s+/g,"");var e=0;"-"===a[0]&&e++,16===b?this._parseHex(a,e):this._parseBase(a,b,e),"-"===a[0]&&(this.negative=1),this.strip(),"le"===c&&this._initArray(this.toArray(),b,c)},f.prototype._initNumber=function(a,b,c){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[67108863&a],this.length=1):a<4503599627370496?(this.words=[67108863&a,a/67108864&67108863],this.length=2):(d(a<9007199254740992),this.words=[67108863&a,a/67108864&67108863,1],this.length=3),"le"===c&&this._initArray(this.toArray(),b,c)},f.prototype._initArray=function(a,b,c){if(d("number"==typeof a.length),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var e=0;e<this.length;e++)this.words[e]=0;var f,g,h=0;if("be"===c)for(e=a.length-1,f=0;e>=0;e-=3)g=a[e]|a[e-1]<<8|a[e-2]<<16,this.words[f]|=g<<h&67108863,this.words[f+1]=g>>>26-h&67108863,h+=24,h>=26&&(h-=26,f++);else if("le"===c)for(e=0,f=0;e<a.length;e+=3)g=a[e]|a[e+1]<<8|a[e+2]<<16,this.words[f]|=g<<h&67108863,this.words[f+1]=g>>>26-h&67108863,h+=24,h>=26&&(h-=26,f++);return this.strip()},f.prototype._parseHex=function(a,b){this.length=Math.ceil((a.length-b)/6),this.words=new Array(this.length);for(var c=0;c<this.length;c++)this.words[c]=0;var d,e,f=0;for(c=a.length-6,d=0;c>=b;c-=6)e=g(a,c,c+6),this.words[d]|=e<<f&67108863,this.words[d+1]|=e>>>26-f&4194303,f+=24,f>=26&&(f-=26,d++);c+6!==b&&(e=g(a,b,c+6),this.words[d]|=e<<f&67108863,this.words[d+1]|=e>>>26-f&4194303),this.strip()},f.prototype._parseBase=function(a,b,c){this.words=[0],this.length=1;for(var d=0,e=1;e<=67108863;e*=b)d++;d--,e=e/b|0;for(var f=a.length-c,g=f%d,i=Math.min(f,f-g)+c,j=0,k=c;k<i;k+=d)j=h(a,k,k+d,b),this.imuln(e),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j);if(0!==g){var l=1;for(j=h(a,k,a.length,b),k=0;k<g;k++)l*=b;this.imuln(l),this.words[0]+j<67108864?this.words[0]+=j:this._iaddn(j)}},f.prototype.copy=function(a){a.words=new Array(this.length);for(var b=0;b<this.length;b++)a.words[b]=this.words[b];a.length=this.length,a.negative=this.negative,a.red=this.red},f.prototype.clone=function(){var a=new f(null);return this.copy(a),a},f.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},f.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],y=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(a,b){a=a||10,b=0|b||1;var c;if(16===a||"hex"===a){c="";for(var e=0,f=0,g=0;g<this.length;g++){var h=this.words[g],i=(16777215&(h<<e|f)).toString(16);f=h>>>24-e&16777215,c=0!==f||g!==this.length-1?w[6-i.length]+i+c:i+c,e+=2,e>=26&&(e-=26,g--)}for(0!==f&&(c=f.toString(16)+c);c.length%b!==0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}if(a===(0|a)&&a>=2&&a<=36){var j=x[a],k=y[a];c="";var l=this.clone();for(l.negative=0;!l.isZero();){var m=l.modn(k).toString(a);l=l.idivn(k),c=l.isZero()?m+c:w[j-m.length]+m+c}for(this.isZero()&&(c="0"+c);c.length%b!==0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}d(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var a=this.words[0];return 2===this.length?a+=67108864*this.words[1]:3===this.length&&1===this.words[2]?a+=4503599627370496+67108864*this.words[1]:this.length>2&&d(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-a:a},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(a,b){return d("undefined"!=typeof u),this.toArrayLike(u,a,b)},f.prototype.toArray=function(a,b){return this.toArrayLike(Array,a,b)},f.prototype.toArrayLike=function(a,b,c){var e=this.byteLength(),f=c||Math.max(1,e);d(e<=f,"byte array longer than desired length"),d(f>0,"Requested array length <= 0"),this.strip();var g,h,i="le"===b,j=new a(f),k=this.clone();if(i){for(h=0;!k.isZero();h++)g=k.andln(255),k.iushrn(8),j[h]=g;for(;h<f;h++)j[h]=0}else{for(h=0;h<f-e;h++)j[h]=0;for(h=0;!k.isZero();h++)g=k.andln(255),k.iushrn(8),j[f-h-1]=g}return j},Math.clz32?f.prototype._countBits=function(a){return 32-Math.clz32(a)}:f.prototype._countBits=function(a){var b=a,c=0;return b>=4096&&(c+=13,b>>>=13),b>=64&&(c+=7,b>>>=7),b>=8&&(c+=4,b>>>=4),b>=2&&(c+=2,b>>>=2),c+b},f.prototype._zeroBits=function(a){if(0===a)return 26;var b=a,c=0;return 0===(8191&b)&&(c+=13,b>>>=13),0===(127&b)&&(c+=7,b>>>=7),0===(15&b)&&(c+=4,b>>>=4),0===(3&b)&&(c+=2,b>>>=2),0===(1&b)&&c++,c},f.prototype.bitLength=function(){var a=this.words[this.length-1],b=this._countBits(a);return 26*(this.length-1)+b},f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,b=0;b<this.length;b++){var c=this._zeroBits(this.words[b]);if(a+=c,26!==c)break}return a},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(a){return 0!==this.negative?this.abs().inotn(a).iaddn(1):this.clone()},f.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return 0!==this.negative},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var b=0;b<a.length;b++)this.words[b]=this.words[b]|a.words[b];return this.strip()},f.prototype.ior=function(a){return d(0===(this.negative|a.negative)),this.iuor(a)},f.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},f.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},f.prototype.iuand=function(a){var b;b=this.length>a.length?a:this;for(var c=0;c<b.length;c++)this.words[c]=this.words[c]&a.words[c];return this.length=b.length,this.strip()},f.prototype.iand=function(a){return d(0===(this.negative|a.negative)),this.iuand(a)},f.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},f.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},f.prototype.iuxor=function(a){var b,c;this.length>a.length?(b=this,c=a):(b=a,c=this);for(var d=0;d<c.length;d++)this.words[d]=b.words[d]^c.words[d];if(this!==b)for(;d<b.length;d++)this.words[d]=b.words[d];return this.length=b.length,this.strip()},f.prototype.ixor=function(a){return d(0===(this.negative|a.negative)),this.iuxor(a)},f.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},f.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},f.prototype.inotn=function(a){d("number"==typeof a&&a>=0);var b=0|Math.ceil(a/26),c=a%26;this._expand(b),c>0&&b--;for(var e=0;e<b;e++)this.words[e]=67108863&~this.words[e];return c>0&&(this.words[e]=~this.words[e]&67108863>>26-c),this.strip()},f.prototype.notn=function(a){return this.clone().inotn(a)},f.prototype.setn=function(a,b){d("number"==typeof a&&a>=0);var c=a/26|0,e=a%26;return this._expand(c+1),b?this.words[c]=this.words[c]|1<<e:this.words[c]=this.words[c]&~(1<<e),this.strip()},f.prototype.iadd=function(a){var b;if(0!==this.negative&&0===a.negative)return this.negative=0,b=this.isub(a),this.negative^=1,this._normSign();if(0===this.negative&&0!==a.negative)return a.negative=0,b=this.isub(a),a.negative=1,b._normSign();var c,d;this.length>a.length?(c=this,d=a):(c=a,d=this);for(var e=0,f=0;f<d.length;f++)b=(0|c.words[f])+(0|d.words[f])+e,this.words[f]=67108863&b,e=b>>>26;for(;0!==e&&f<c.length;f++)b=(0|c.words[f])+e,this.words[f]=67108863&b,e=b>>>26;if(this.length=c.length,0!==e)this.words[this.length]=e,this.length++;else if(c!==this)for(;f<c.length;f++)this.words[f]=c.words[f];return this},f.prototype.add=function(a){var b;return 0!==a.negative&&0===this.negative?(a.negative=0,b=this.sub(a),a.negative^=1,b):0===a.negative&&0!==this.negative?(this.negative=0,b=a.sub(this),this.negative=1,b):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},f.prototype.isub=function(a){if(0!==a.negative){a.negative=0;var b=this.iadd(a);return a.negative=1,b._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var c=this.cmp(a);if(0===c)return this.negative=0,this.length=1,this.words[0]=0,this;var d,e;c>0?(d=this,e=a):(d=a,e=this);for(var f=0,g=0;g<e.length;g++)b=(0|d.words[g])-(0|e.words[g])+f,f=b>>26,this.words[g]=67108863&b;for(;0!==f&&g<d.length;g++)b=(0|d.words[g])+f,f=b>>26,this.words[g]=67108863&b;if(0===f&&g<d.length&&d!==this)for(;g<d.length;g++)this.words[g]=d.words[g];return this.length=Math.max(this.length,g),d!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(a){return this.clone().isub(a)};var z=function(a,b,c){var d,e,f,g=a.words,h=b.words,i=c.words,j=0,k=0|g[0],l=8191&k,m=k>>>13,n=0|g[1],o=8191&n,p=n>>>13,q=0|g[2],r=8191&q,s=q>>>13,t=0|g[3],u=8191&t,v=t>>>13,w=0|g[4],x=8191&w,y=w>>>13,z=0|g[5],A=8191&z,B=z>>>13,C=0|g[6],D=8191&C,E=C>>>13,F=0|g[7],G=8191&F,H=F>>>13,I=0|g[8],J=8191&I,K=I>>>13,L=0|g[9],M=8191&L,N=L>>>13,O=0|h[0],P=8191&O,Q=O>>>13,R=0|h[1],S=8191&R,T=R>>>13,U=0|h[2],V=8191&U,W=U>>>13,X=0|h[3],Y=8191&X,Z=X>>>13,$=0|h[4],_=8191&$,aa=$>>>13,ba=0|h[5],ca=8191&ba,da=ba>>>13,ea=0|h[6],fa=8191&ea,ga=ea>>>13,ha=0|h[7],ia=8191&ha,ja=ha>>>13,ka=0|h[8],la=8191&ka,ma=ka>>>13,na=0|h[9],oa=8191&na,pa=na>>>13;c.negative=a.negative^b.negative,c.length=19,d=Math.imul(l,P),e=Math.imul(l,Q),e=e+Math.imul(m,P)|0,f=Math.imul(m,Q);var qa=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(qa>>>26)|0,qa&=67108863,d=Math.imul(o,P),e=Math.imul(o,Q),e=e+Math.imul(p,P)|0,f=Math.imul(p,Q),d=d+Math.imul(l,S)|0,e=e+Math.imul(l,T)|0,e=e+Math.imul(m,S)|0,f=f+Math.imul(m,T)|0;var ra=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(ra>>>26)|0,ra&=67108863,d=Math.imul(r,P),e=Math.imul(r,Q),e=e+Math.imul(s,P)|0,f=Math.imul(s,Q),d=d+Math.imul(o,S)|0,e=e+Math.imul(o,T)|0,e=e+Math.imul(p,S)|0,f=f+Math.imul(p,T)|0,d=d+Math.imul(l,V)|0,e=e+Math.imul(l,W)|0,e=e+Math.imul(m,V)|0,f=f+Math.imul(m,W)|0;var sa=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(sa>>>26)|0,sa&=67108863,d=Math.imul(u,P),e=Math.imul(u,Q),e=e+Math.imul(v,P)|0,f=Math.imul(v,Q),d=d+Math.imul(r,S)|0,e=e+Math.imul(r,T)|0,e=e+Math.imul(s,S)|0,f=f+Math.imul(s,T)|0,d=d+Math.imul(o,V)|0,e=e+Math.imul(o,W)|0,e=e+Math.imul(p,V)|0,f=f+Math.imul(p,W)|0,d=d+Math.imul(l,Y)|0,e=e+Math.imul(l,Z)|0,e=e+Math.imul(m,Y)|0,f=f+Math.imul(m,Z)|0;var ta=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(ta>>>26)|0,ta&=67108863,d=Math.imul(x,P),e=Math.imul(x,Q),e=e+Math.imul(y,P)|0,f=Math.imul(y,Q),d=d+Math.imul(u,S)|0,e=e+Math.imul(u,T)|0,e=e+Math.imul(v,S)|0,f=f+Math.imul(v,T)|0,d=d+Math.imul(r,V)|0,e=e+Math.imul(r,W)|0,e=e+Math.imul(s,V)|0,f=f+Math.imul(s,W)|0,d=d+Math.imul(o,Y)|0,e=e+Math.imul(o,Z)|0,e=e+Math.imul(p,Y)|0,f=f+Math.imul(p,Z)|0,d=d+Math.imul(l,_)|0,e=e+Math.imul(l,aa)|0,e=e+Math.imul(m,_)|0,f=f+Math.imul(m,aa)|0;var ua=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(ua>>>26)|0,ua&=67108863,d=Math.imul(A,P),e=Math.imul(A,Q),e=e+Math.imul(B,P)|0,f=Math.imul(B,Q),d=d+Math.imul(x,S)|0,e=e+Math.imul(x,T)|0,e=e+Math.imul(y,S)|0,f=f+Math.imul(y,T)|0,d=d+Math.imul(u,V)|0,e=e+Math.imul(u,W)|0,e=e+Math.imul(v,V)|0,f=f+Math.imul(v,W)|0,d=d+Math.imul(r,Y)|0,e=e+Math.imul(r,Z)|0,e=e+Math.imul(s,Y)|0,f=f+Math.imul(s,Z)|0,d=d+Math.imul(o,_)|0,e=e+Math.imul(o,aa)|0,e=e+Math.imul(p,_)|0,f=f+Math.imul(p,aa)|0,d=d+Math.imul(l,ca)|0,e=e+Math.imul(l,da)|0,e=e+Math.imul(m,ca)|0,f=f+Math.imul(m,da)|0;var va=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(va>>>26)|0,va&=67108863,d=Math.imul(D,P),e=Math.imul(D,Q),e=e+Math.imul(E,P)|0,f=Math.imul(E,Q),d=d+Math.imul(A,S)|0,e=e+Math.imul(A,T)|0,e=e+Math.imul(B,S)|0,f=f+Math.imul(B,T)|0,d=d+Math.imul(x,V)|0,e=e+Math.imul(x,W)|0,e=e+Math.imul(y,V)|0,f=f+Math.imul(y,W)|0,d=d+Math.imul(u,Y)|0,e=e+Math.imul(u,Z)|0,e=e+Math.imul(v,Y)|0,f=f+Math.imul(v,Z)|0,d=d+Math.imul(r,_)|0,e=e+Math.imul(r,aa)|0,e=e+Math.imul(s,_)|0,f=f+Math.imul(s,aa)|0,d=d+Math.imul(o,ca)|0,e=e+Math.imul(o,da)|0,e=e+Math.imul(p,ca)|0,f=f+Math.imul(p,da)|0,d=d+Math.imul(l,fa)|0,e=e+Math.imul(l,ga)|0,e=e+Math.imul(m,fa)|0,f=f+Math.imul(m,ga)|0;var wa=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(wa>>>26)|0,wa&=67108863,d=Math.imul(G,P),e=Math.imul(G,Q),e=e+Math.imul(H,P)|0,f=Math.imul(H,Q),d=d+Math.imul(D,S)|0,e=e+Math.imul(D,T)|0,e=e+Math.imul(E,S)|0,f=f+Math.imul(E,T)|0,d=d+Math.imul(A,V)|0,e=e+Math.imul(A,W)|0,e=e+Math.imul(B,V)|0,f=f+Math.imul(B,W)|0,d=d+Math.imul(x,Y)|0,e=e+Math.imul(x,Z)|0,e=e+Math.imul(y,Y)|0,f=f+Math.imul(y,Z)|0,d=d+Math.imul(u,_)|0,e=e+Math.imul(u,aa)|0,e=e+Math.imul(v,_)|0,f=f+Math.imul(v,aa)|0,d=d+Math.imul(r,ca)|0,e=e+Math.imul(r,da)|0,e=e+Math.imul(s,ca)|0,f=f+Math.imul(s,da)|0,d=d+Math.imul(o,fa)|0,e=e+Math.imul(o,ga)|0,e=e+Math.imul(p,fa)|0,f=f+Math.imul(p,ga)|0,d=d+Math.imul(l,ia)|0,e=e+Math.imul(l,ja)|0,e=e+Math.imul(m,ia)|0,f=f+Math.imul(m,ja)|0;var xa=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(xa>>>26)|0,xa&=67108863,d=Math.imul(J,P),e=Math.imul(J,Q),e=e+Math.imul(K,P)|0,f=Math.imul(K,Q),d=d+Math.imul(G,S)|0,e=e+Math.imul(G,T)|0,e=e+Math.imul(H,S)|0,f=f+Math.imul(H,T)|0,d=d+Math.imul(D,V)|0,e=e+Math.imul(D,W)|0,e=e+Math.imul(E,V)|0,f=f+Math.imul(E,W)|0,d=d+Math.imul(A,Y)|0,e=e+Math.imul(A,Z)|0,e=e+Math.imul(B,Y)|0,f=f+Math.imul(B,Z)|0,d=d+Math.imul(x,_)|0,e=e+Math.imul(x,aa)|0,e=e+Math.imul(y,_)|0,f=f+Math.imul(y,aa)|0,d=d+Math.imul(u,ca)|0,e=e+Math.imul(u,da)|0,e=e+Math.imul(v,ca)|0,f=f+Math.imul(v,da)|0,d=d+Math.imul(r,fa)|0,e=e+Math.imul(r,ga)|0,e=e+Math.imul(s,fa)|0,f=f+Math.imul(s,ga)|0,d=d+Math.imul(o,ia)|0,e=e+Math.imul(o,ja)|0,e=e+Math.imul(p,ia)|0,f=f+Math.imul(p,ja)|0,d=d+Math.imul(l,la)|0,e=e+Math.imul(l,ma)|0,e=e+Math.imul(m,la)|0,f=f+Math.imul(m,ma)|0;var ya=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(ya>>>26)|0,ya&=67108863,d=Math.imul(M,P),e=Math.imul(M,Q),e=e+Math.imul(N,P)|0,f=Math.imul(N,Q),d=d+Math.imul(J,S)|0,e=e+Math.imul(J,T)|0,e=e+Math.imul(K,S)|0,f=f+Math.imul(K,T)|0,d=d+Math.imul(G,V)|0,e=e+Math.imul(G,W)|0,e=e+Math.imul(H,V)|0,f=f+Math.imul(H,W)|0,d=d+Math.imul(D,Y)|0,e=e+Math.imul(D,Z)|0,e=e+Math.imul(E,Y)|0,f=f+Math.imul(E,Z)|0,d=d+Math.imul(A,_)|0,e=e+Math.imul(A,aa)|0,e=e+Math.imul(B,_)|0,f=f+Math.imul(B,aa)|0,d=d+Math.imul(x,ca)|0,e=e+Math.imul(x,da)|0,e=e+Math.imul(y,ca)|0,f=f+Math.imul(y,da)|0,d=d+Math.imul(u,fa)|0,e=e+Math.imul(u,ga)|0,e=e+Math.imul(v,fa)|0,f=f+Math.imul(v,ga)|0,d=d+Math.imul(r,ia)|0,e=e+Math.imul(r,ja)|0,e=e+Math.imul(s,ia)|0,f=f+Math.imul(s,ja)|0,d=d+Math.imul(o,la)|0,e=e+Math.imul(o,ma)|0,e=e+Math.imul(p,la)|0,f=f+Math.imul(p,ma)|0,d=d+Math.imul(l,oa)|0,e=e+Math.imul(l,pa)|0,e=e+Math.imul(m,oa)|0,f=f+Math.imul(m,pa)|0;var za=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(za>>>26)|0,za&=67108863,d=Math.imul(M,S),e=Math.imul(M,T),e=e+Math.imul(N,S)|0,f=Math.imul(N,T),d=d+Math.imul(J,V)|0,e=e+Math.imul(J,W)|0,e=e+Math.imul(K,V)|0,f=f+Math.imul(K,W)|0,d=d+Math.imul(G,Y)|0,e=e+Math.imul(G,Z)|0,e=e+Math.imul(H,Y)|0,f=f+Math.imul(H,Z)|0,d=d+Math.imul(D,_)|0,e=e+Math.imul(D,aa)|0,e=e+Math.imul(E,_)|0,f=f+Math.imul(E,aa)|0,d=d+Math.imul(A,ca)|0,e=e+Math.imul(A,da)|0,e=e+Math.imul(B,ca)|0,f=f+Math.imul(B,da)|0,d=d+Math.imul(x,fa)|0,e=e+Math.imul(x,ga)|0,e=e+Math.imul(y,fa)|0,f=f+Math.imul(y,ga)|0,d=d+Math.imul(u,ia)|0,e=e+Math.imul(u,ja)|0,e=e+Math.imul(v,ia)|0,f=f+Math.imul(v,ja)|0,d=d+Math.imul(r,la)|0,e=e+Math.imul(r,ma)|0,e=e+Math.imul(s,la)|0,f=f+Math.imul(s,ma)|0,d=d+Math.imul(o,oa)|0,e=e+Math.imul(o,pa)|0,e=e+Math.imul(p,oa)|0,f=f+Math.imul(p,pa)|0;var Aa=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(Aa>>>26)|0,Aa&=67108863,d=Math.imul(M,V),e=Math.imul(M,W),e=e+Math.imul(N,V)|0,f=Math.imul(N,W),d=d+Math.imul(J,Y)|0,e=e+Math.imul(J,Z)|0,e=e+Math.imul(K,Y)|0,f=f+Math.imul(K,Z)|0,d=d+Math.imul(G,_)|0,e=e+Math.imul(G,aa)|0,e=e+Math.imul(H,_)|0,f=f+Math.imul(H,aa)|0,d=d+Math.imul(D,ca)|0,e=e+Math.imul(D,da)|0,e=e+Math.imul(E,ca)|0,f=f+Math.imul(E,da)|0,d=d+Math.imul(A,fa)|0,e=e+Math.imul(A,ga)|0,e=e+Math.imul(B,fa)|0,f=f+Math.imul(B,ga)|0,d=d+Math.imul(x,ia)|0,e=e+Math.imul(x,ja)|0,e=e+Math.imul(y,ia)|0,f=f+Math.imul(y,ja)|0,d=d+Math.imul(u,la)|0,e=e+Math.imul(u,ma)|0,e=e+Math.imul(v,la)|0,f=f+Math.imul(v,ma)|0,d=d+Math.imul(r,oa)|0,e=e+Math.imul(r,pa)|0,e=e+Math.imul(s,oa)|0,f=f+Math.imul(s,pa)|0;var Ba=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(Ba>>>26)|0,Ba&=67108863,d=Math.imul(M,Y),e=Math.imul(M,Z),e=e+Math.imul(N,Y)|0,f=Math.imul(N,Z),d=d+Math.imul(J,_)|0,e=e+Math.imul(J,aa)|0,e=e+Math.imul(K,_)|0,f=f+Math.imul(K,aa)|0,d=d+Math.imul(G,ca)|0,e=e+Math.imul(G,da)|0,e=e+Math.imul(H,ca)|0,f=f+Math.imul(H,da)|0,d=d+Math.imul(D,fa)|0,e=e+Math.imul(D,ga)|0,e=e+Math.imul(E,fa)|0,f=f+Math.imul(E,ga)|0,d=d+Math.imul(A,ia)|0,e=e+Math.imul(A,ja)|0,e=e+Math.imul(B,ia)|0,f=f+Math.imul(B,ja)|0,d=d+Math.imul(x,la)|0,e=e+Math.imul(x,ma)|0,e=e+Math.imul(y,la)|0,f=f+Math.imul(y,ma)|0,d=d+Math.imul(u,oa)|0,e=e+Math.imul(u,pa)|0,e=e+Math.imul(v,oa)|0,f=f+Math.imul(v,pa)|0;var Ca=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(Ca>>>26)|0,Ca&=67108863,d=Math.imul(M,_),e=Math.imul(M,aa),e=e+Math.imul(N,_)|0,f=Math.imul(N,aa),d=d+Math.imul(J,ca)|0,e=e+Math.imul(J,da)|0,e=e+Math.imul(K,ca)|0,f=f+Math.imul(K,da)|0,d=d+Math.imul(G,fa)|0,e=e+Math.imul(G,ga)|0,e=e+Math.imul(H,fa)|0,f=f+Math.imul(H,ga)|0,d=d+Math.imul(D,ia)|0,e=e+Math.imul(D,ja)|0,e=e+Math.imul(E,ia)|0,f=f+Math.imul(E,ja)|0,d=d+Math.imul(A,la)|0,e=e+Math.imul(A,ma)|0,e=e+Math.imul(B,la)|0,f=f+Math.imul(B,ma)|0,d=d+Math.imul(x,oa)|0,e=e+Math.imul(x,pa)|0,e=e+Math.imul(y,oa)|0,f=f+Math.imul(y,pa)|0;var Da=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(Da>>>26)|0,Da&=67108863,d=Math.imul(M,ca),e=Math.imul(M,da),e=e+Math.imul(N,ca)|0,f=Math.imul(N,da),d=d+Math.imul(J,fa)|0,e=e+Math.imul(J,ga)|0,e=e+Math.imul(K,fa)|0,f=f+Math.imul(K,ga)|0,d=d+Math.imul(G,ia)|0,e=e+Math.imul(G,ja)|0,e=e+Math.imul(H,ia)|0,f=f+Math.imul(H,ja)|0,d=d+Math.imul(D,la)|0,e=e+Math.imul(D,ma)|0,e=e+Math.imul(E,la)|0,f=f+Math.imul(E,ma)|0,d=d+Math.imul(A,oa)|0,e=e+Math.imul(A,pa)|0,e=e+Math.imul(B,oa)|0,f=f+Math.imul(B,pa)|0;var Ea=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(Ea>>>26)|0,Ea&=67108863,d=Math.imul(M,fa),e=Math.imul(M,ga),e=e+Math.imul(N,fa)|0,f=Math.imul(N,ga),d=d+Math.imul(J,ia)|0,e=e+Math.imul(J,ja)|0,e=e+Math.imul(K,ia)|0,f=f+Math.imul(K,ja)|0,d=d+Math.imul(G,la)|0,e=e+Math.imul(G,ma)|0,e=e+Math.imul(H,la)|0,f=f+Math.imul(H,ma)|0,d=d+Math.imul(D,oa)|0,e=e+Math.imul(D,pa)|0,e=e+Math.imul(E,oa)|0,f=f+Math.imul(E,pa)|0;var Fa=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(Fa>>>26)|0,Fa&=67108863,d=Math.imul(M,ia),e=Math.imul(M,ja),e=e+Math.imul(N,ia)|0,f=Math.imul(N,ja),d=d+Math.imul(J,la)|0,e=e+Math.imul(J,ma)|0,e=e+Math.imul(K,la)|0,f=f+Math.imul(K,ma)|0,d=d+Math.imul(G,oa)|0,e=e+Math.imul(G,pa)|0,e=e+Math.imul(H,oa)|0,f=f+Math.imul(H,pa)|0;var Ga=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(Ga>>>26)|0,Ga&=67108863,d=Math.imul(M,la),e=Math.imul(M,ma),e=e+Math.imul(N,la)|0,f=Math.imul(N,ma),d=d+Math.imul(J,oa)|0,e=e+Math.imul(J,pa)|0,e=e+Math.imul(K,oa)|0,f=f+Math.imul(K,pa)|0;var Ha=(j+d|0)+((8191&e)<<13)|0;j=(f+(e>>>13)|0)+(Ha>>>26)|0,Ha&=67108863,d=Math.imul(M,oa),e=Math.imul(M,pa),e=e+Math.imul(N,oa)|0,f=Math.imul(N,pa);var Ia=(j+d|0)+((8191&e)<<13)|0;return j=(f+(e>>>13)|0)+(Ia>>>26)|0,Ia&=67108863,i[0]=qa,i[1]=ra,i[2]=sa,i[3]=ta,i[4]=ua,i[5]=va,i[6]=wa,i[7]=xa,i[8]=ya,i[9]=za,i[10]=Aa,i[11]=Ba,i[12]=Ca,i[13]=Da,i[14]=Ea,i[15]=Fa,i[16]=Ga,i[17]=Ha,i[18]=Ia,0!==j&&(i[19]=j,c.length++),c};Math.imul||(z=j),f.prototype.mulTo=function(a,b){var c,d=this.length+a.length;return c=10===this.length&&10===a.length?z(this,a,b):d<63?j(this,a,b):d<1024?k(this,a,b):l(this,a,b)},m.prototype.makeRBT=function(a){
for(var b=new Array(a),c=f.prototype._countBits(a)-1,d=0;d<a;d++)b[d]=this.revBin(d,c,a);return b},m.prototype.revBin=function(a,b,c){if(0===a||a===c-1)return a;for(var d=0,e=0;e<b;e++)d|=(1&a)<<b-e-1,a>>=1;return d},m.prototype.permute=function(a,b,c,d,e,f){for(var g=0;g<f;g++)d[g]=b[a[g]],e[g]=c[a[g]]},m.prototype.transform=function(a,b,c,d,e,f){this.permute(f,a,b,c,d,e);for(var g=1;g<e;g<<=1)for(var h=g<<1,i=Math.cos(2*Math.PI/h),j=Math.sin(2*Math.PI/h),k=0;k<e;k+=h)for(var l=i,m=j,n=0;n<g;n++){var o=c[k+n],p=d[k+n],q=c[k+n+g],r=d[k+n+g],s=l*q-m*r;r=l*r+m*q,q=s,c[k+n]=o+q,d[k+n]=p+r,c[k+n+g]=o-q,d[k+n+g]=p-r,n!==h&&(s=i*l-j*m,m=i*m+j*l,l=s)}},m.prototype.guessLen13b=function(a,b){var c=1|Math.max(b,a),d=1&c,e=0;for(c=c/2|0;c;c>>>=1)e++;return 1<<e+1+d},m.prototype.conjugate=function(a,b,c){if(!(c<=1))for(var d=0;d<c/2;d++){var e=a[d];a[d]=a[c-d-1],a[c-d-1]=e,e=b[d],b[d]=-b[c-d-1],b[c-d-1]=-e}},m.prototype.normalize13b=function(a,b){for(var c=0,d=0;d<b/2;d++){var e=8192*Math.round(a[2*d+1]/b)+Math.round(a[2*d]/b)+c;a[d]=67108863&e,c=e<67108864?0:e/67108864|0}return a},m.prototype.convert13b=function(a,b,c,e){for(var f=0,g=0;g<b;g++)f+=0|a[g],c[2*g]=8191&f,f>>>=13,c[2*g+1]=8191&f,f>>>=13;for(g=2*b;g<e;++g)c[g]=0;d(0===f),d(0===(f&-8192))},m.prototype.stub=function(a){for(var b=new Array(a),c=0;c<a;c++)b[c]=0;return b},m.prototype.mulp=function(a,b,c){var d=2*this.guessLen13b(a.length,b.length),e=this.makeRBT(d),f=this.stub(d),g=new Array(d),h=new Array(d),i=new Array(d),j=new Array(d),k=new Array(d),l=new Array(d),m=c.words;m.length=d,this.convert13b(a.words,a.length,g,d),this.convert13b(b.words,b.length,j,d),this.transform(g,f,h,i,d,e),this.transform(j,f,k,l,d,e);for(var n=0;n<d;n++){var o=h[n]*k[n]-i[n]*l[n];i[n]=h[n]*l[n]+i[n]*k[n],h[n]=o}return this.conjugate(h,i,d),this.transform(h,i,m,f,d,e),this.conjugate(m,f,d),this.normalize13b(m,d),c.negative=a.negative^b.negative,c.length=a.length+b.length,c.strip()},f.prototype.mul=function(a){var b=new f(null);return b.words=new Array(this.length+a.length),this.mulTo(a,b)},f.prototype.mulf=function(a){var b=new f(null);return b.words=new Array(this.length+a.length),l(this,a,b)},f.prototype.imul=function(a){return this.clone().mulTo(a,this)},f.prototype.imuln=function(a){d("number"==typeof a),d(a<67108864);for(var b=0,c=0;c<this.length;c++){var e=(0|this.words[c])*a,f=(67108863&e)+(67108863&b);b>>=26,b+=e/67108864|0,b+=f>>>26,this.words[c]=67108863&f}return 0!==b&&(this.words[c]=b,this.length++),this},f.prototype.muln=function(a){return this.clone().imuln(a)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(a){var b=i(a);if(0===b.length)return new f(1);for(var c=this,d=0;d<b.length&&0===b[d];d++,c=c.sqr());if(++d<b.length)for(var e=c.sqr();d<b.length;d++,e=e.sqr())0!==b[d]&&(c=c.mul(e));return c},f.prototype.iushln=function(a){d("number"==typeof a&&a>=0);var b,c=a%26,e=(a-c)/26,f=67108863>>>26-c<<26-c;if(0!==c){var g=0;for(b=0;b<this.length;b++){var h=this.words[b]&f,i=(0|this.words[b])-h<<c;this.words[b]=i|g,g=h>>>26-c}g&&(this.words[b]=g,this.length++)}if(0!==e){for(b=this.length-1;b>=0;b--)this.words[b+e]=this.words[b];for(b=0;b<e;b++)this.words[b]=0;this.length+=e}return this.strip()},f.prototype.ishln=function(a){return d(0===this.negative),this.iushln(a)},f.prototype.iushrn=function(a,b,c){d("number"==typeof a&&a>=0);var e;e=b?(b-b%26)/26:0;var f=a%26,g=Math.min((a-f)/26,this.length),h=67108863^67108863>>>f<<f,i=c;if(e-=g,e=Math.max(0,e),i){for(var j=0;j<g;j++)i.words[j]=this.words[j];i.length=g}if(0===g);else if(this.length>g)for(this.length-=g,j=0;j<this.length;j++)this.words[j]=this.words[j+g];else this.words[0]=0,this.length=1;var k=0;for(j=this.length-1;j>=0&&(0!==k||j>=e);j--){var l=0|this.words[j];this.words[j]=k<<26-f|l>>>f,k=l&h}return i&&0!==k&&(i.words[i.length++]=k),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(a,b,c){return d(0===this.negative),this.iushrn(a,b,c)},f.prototype.shln=function(a){return this.clone().ishln(a)},f.prototype.ushln=function(a){return this.clone().iushln(a)},f.prototype.shrn=function(a){return this.clone().ishrn(a)},f.prototype.ushrn=function(a){return this.clone().iushrn(a)},f.prototype.testn=function(a){d("number"==typeof a&&a>=0);var b=a%26,c=(a-b)/26,e=1<<b;if(this.length<=c)return!1;var f=this.words[c];return!!(f&e)},f.prototype.imaskn=function(a){d("number"==typeof a&&a>=0);var b=a%26,c=(a-b)/26;if(d(0===this.negative,"imaskn works only with positive numbers"),this.length<=c)return this;if(0!==b&&c++,this.length=Math.min(c,this.length),0!==b){var e=67108863^67108863>>>b<<b;this.words[this.length-1]&=e}return this.strip()},f.prototype.maskn=function(a){return this.clone().imaskn(a)},f.prototype.iaddn=function(a){return d("number"==typeof a),d(a<67108864),a<0?this.isubn(-a):0!==this.negative?1===this.length&&(0|this.words[0])<a?(this.words[0]=a-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},f.prototype._iaddn=function(a){this.words[0]+=a;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},f.prototype.isubn=function(a){if(d("number"==typeof a),d(a<67108864),a<0)return this.iaddn(-a);if(0!==this.negative)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},f.prototype.addn=function(a){return this.clone().iaddn(a)},f.prototype.subn=function(a){return this.clone().isubn(a)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(a,b,c){var e,f=a.length+c;this._expand(f);var g,h=0;for(e=0;e<a.length;e++){g=(0|this.words[e+c])+h;var i=(0|a.words[e])*b;g-=67108863&i,h=(g>>26)-(i/67108864|0),this.words[e+c]=67108863&g}for(;e<this.length-c;e++)g=(0|this.words[e+c])+h,h=g>>26,this.words[e+c]=67108863&g;if(0===h)return this.strip();for(d(h===-1),h=0,e=0;e<this.length;e++)g=-(0|this.words[e])+h,h=g>>26,this.words[e]=67108863&g;return this.negative=1,this.strip()},f.prototype._wordDiv=function(a,b){var c=this.length-a.length,d=this.clone(),e=a,g=0|e.words[e.length-1],h=this._countBits(g);c=26-h,0!==c&&(e=e.ushln(c),d.iushln(c),g=0|e.words[e.length-1]);var i,j=d.length-e.length;if("mod"!==b){i=new f(null),i.length=j+1,i.words=new Array(i.length);for(var k=0;k<i.length;k++)i.words[k]=0}var l=d.clone()._ishlnsubmul(e,1,j);0===l.negative&&(d=l,i&&(i.words[j]=1));for(var m=j-1;m>=0;m--){var n=67108864*(0|d.words[e.length+m])+(0|d.words[e.length+m-1]);for(n=Math.min(n/g|0,67108863),d._ishlnsubmul(e,n,m);0!==d.negative;)n--,d.negative=0,d._ishlnsubmul(e,1,m),d.isZero()||(d.negative^=1);i&&(i.words[m]=n)}return i&&i.strip(),d.strip(),"div"!==b&&0!==c&&d.iushrn(c),{div:i||null,mod:d}},f.prototype.divmod=function(a,b,c){if(d(!a.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var e,g,h;return 0!==this.negative&&0===a.negative?(h=this.neg().divmod(a,b),"mod"!==b&&(e=h.div.neg()),"div"!==b&&(g=h.mod.neg(),c&&0!==g.negative&&g.iadd(a)),{div:e,mod:g}):0===this.negative&&0!==a.negative?(h=this.divmod(a.neg(),b),"mod"!==b&&(e=h.div.neg()),{div:e,mod:h.mod}):0!==(this.negative&a.negative)?(h=this.neg().divmod(a.neg(),b),"div"!==b&&(g=h.mod.neg(),c&&0!==g.negative&&g.isub(a)),{div:h.div,mod:g}):a.length>this.length||this.cmp(a)<0?{div:new f(0),mod:this}:1===a.length?"div"===b?{div:this.divn(a.words[0]),mod:null}:"mod"===b?{div:null,mod:new f(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new f(this.modn(a.words[0]))}:this._wordDiv(a,b)},f.prototype.div=function(a){return this.divmod(a,"div",!1).div},f.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},f.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},f.prototype.divRound=function(a){var b=this.divmod(a);if(b.mod.isZero())return b.div;var c=0!==b.div.negative?b.mod.isub(a):b.mod,d=a.ushrn(1),e=a.andln(1),f=c.cmp(d);return f<0||1===e&&0===f?b.div:0!==b.div.negative?b.div.isubn(1):b.div.iaddn(1)},f.prototype.modn=function(a){d(a<=67108863);for(var b=(1<<26)%a,c=0,e=this.length-1;e>=0;e--)c=(b*c+(0|this.words[e]))%a;return c},f.prototype.idivn=function(a){d(a<=67108863);for(var b=0,c=this.length-1;c>=0;c--){var e=(0|this.words[c])+67108864*b;this.words[c]=e/a|0,b=e%a}return this.strip()},f.prototype.divn=function(a){return this.clone().idivn(a)},f.prototype.egcd=function(a){d(0===a.negative),d(!a.isZero());var b=this,c=a.clone();b=0!==b.negative?b.umod(a):b.clone();for(var e=new f(1),g=new f(0),h=new f(0),i=new f(1),j=0;b.isEven()&&c.isEven();)b.iushrn(1),c.iushrn(1),++j;for(var k=c.clone(),l=b.clone();!b.isZero();){for(var m=0,n=1;0===(b.words[0]&n)&&m<26;++m,n<<=1);if(m>0)for(b.iushrn(m);m-- >0;)(e.isOdd()||g.isOdd())&&(e.iadd(k),g.isub(l)),e.iushrn(1),g.iushrn(1);for(var o=0,p=1;0===(c.words[0]&p)&&o<26;++o,p<<=1);if(o>0)for(c.iushrn(o);o-- >0;)(h.isOdd()||i.isOdd())&&(h.iadd(k),i.isub(l)),h.iushrn(1),i.iushrn(1);b.cmp(c)>=0?(b.isub(c),e.isub(h),g.isub(i)):(c.isub(b),h.isub(e),i.isub(g))}return{a:h,b:i,gcd:c.iushln(j)}},f.prototype._invmp=function(a){d(0===a.negative),d(!a.isZero());var b=this,c=a.clone();b=0!==b.negative?b.umod(a):b.clone();for(var e=new f(1),g=new f(0),h=c.clone();b.cmpn(1)>0&&c.cmpn(1)>0;){for(var i=0,j=1;0===(b.words[0]&j)&&i<26;++i,j<<=1);if(i>0)for(b.iushrn(i);i-- >0;)e.isOdd()&&e.iadd(h),e.iushrn(1);for(var k=0,l=1;0===(c.words[0]&l)&&k<26;++k,l<<=1);if(k>0)for(c.iushrn(k);k-- >0;)g.isOdd()&&g.iadd(h),g.iushrn(1);b.cmp(c)>=0?(b.isub(c),e.isub(g)):(c.isub(b),g.isub(e))}var m;return m=0===b.cmpn(1)?e:g,m.cmpn(0)<0&&m.iadd(a),m},f.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var b=this.clone(),c=a.clone();b.negative=0,c.negative=0;for(var d=0;b.isEven()&&c.isEven();d++)b.iushrn(1),c.iushrn(1);for(;;){for(;b.isEven();)b.iushrn(1);for(;c.isEven();)c.iushrn(1);var e=b.cmp(c);if(e<0){var f=b;b=c,c=f}else if(0===e||0===c.cmpn(1))break;b.isub(c)}return c.iushln(d)},f.prototype.invm=function(a){return this.egcd(a).a.umod(a)},f.prototype.isEven=function(){return 0===(1&this.words[0])},f.prototype.isOdd=function(){return 1===(1&this.words[0])},f.prototype.andln=function(a){return this.words[0]&a},f.prototype.bincn=function(a){d("number"==typeof a);var b=a%26,c=(a-b)/26,e=1<<b;if(this.length<=c)return this._expand(c+1),this.words[c]|=e,this;for(var f=e,g=c;0!==f&&g<this.length;g++){var h=0|this.words[g];h+=f,f=h>>>26,h&=67108863,this.words[g]=h}return 0!==f&&(this.words[g]=f,this.length++),this},f.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},f.prototype.cmpn=function(a){var b=a<0;if(0!==this.negative&&!b)return-1;if(0===this.negative&&b)return 1;this.strip();var c;if(this.length>1)c=1;else{b&&(a=-a),d(a<=67108863,"Number is too big");var e=0|this.words[0];c=e===a?0:e<a?-1:1}return 0!==this.negative?0|-c:c},f.prototype.cmp=function(a){if(0!==this.negative&&0===a.negative)return-1;if(0===this.negative&&0!==a.negative)return 1;var b=this.ucmp(a);return 0!==this.negative?0|-b:b},f.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var b=0,c=this.length-1;c>=0;c--){var d=0|this.words[c],e=0|a.words[c];if(d!==e){d<e?b=-1:d>e&&(b=1);break}}return b},f.prototype.gtn=function(a){return 1===this.cmpn(a)},f.prototype.gt=function(a){return 1===this.cmp(a)},f.prototype.gten=function(a){return this.cmpn(a)>=0},f.prototype.gte=function(a){return this.cmp(a)>=0},f.prototype.ltn=function(a){return this.cmpn(a)===-1},f.prototype.lt=function(a){return this.cmp(a)===-1},f.prototype.lten=function(a){return this.cmpn(a)<=0},f.prototype.lte=function(a){return this.cmp(a)<=0},f.prototype.eqn=function(a){return 0===this.cmpn(a)},f.prototype.eq=function(a){return 0===this.cmp(a)},f.red=function(a){return new s(a)},f.prototype.toRed=function(a){return d(!this.red,"Already a number in reduction context"),d(0===this.negative,"red works only with positives"),a.convertTo(this)._forceRed(a)},f.prototype.fromRed=function(){return d(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(a){return this.red=a,this},f.prototype.forceRed=function(a){return d(!this.red,"Already a number in reduction context"),this._forceRed(a)},f.prototype.redAdd=function(a){return d(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},f.prototype.redIAdd=function(a){return d(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},f.prototype.redSub=function(a){return d(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},f.prototype.redISub=function(a){return d(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},f.prototype.redShl=function(a){return d(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},f.prototype.redMul=function(a){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},f.prototype.redIMul=function(a){return d(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},f.prototype.redSqr=function(){return d(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return d(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return d(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return d(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return d(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(a){return d(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var A={k256:null,p224:null,p192:null,p25519:null};n.prototype._tmp=function(){var a=new f(null);return a.words=new Array(Math.ceil(this.n/13)),a},n.prototype.ireduce=function(a){var b,c=a;do this.split(c,this.tmp),c=this.imulK(c),c=c.iadd(this.tmp),b=c.bitLength();while(b>this.n);var d=b<this.n?-1:c.ucmp(this.p);return 0===d?(c.words[0]=0,c.length=1):d>0?c.isub(this.p):c.strip(),c},n.prototype.split=function(a,b){a.iushrn(this.n,0,b)},n.prototype.imulK=function(a){return a.imul(this.k)},e(o,n),o.prototype.split=function(a,b){for(var c=4194303,d=Math.min(a.length,9),e=0;e<d;e++)b.words[e]=a.words[e];if(b.length=d,a.length<=9)return a.words[0]=0,void(a.length=1);var f=a.words[9];for(b.words[b.length++]=f&c,e=10;e<a.length;e++){var g=0|a.words[e];a.words[e-10]=(g&c)<<4|f>>>22,f=g}f>>>=22,a.words[e-10]=f,0===f&&a.length>10?a.length-=10:a.length-=9},o.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var b=0,c=0;c<a.length;c++){var d=0|a.words[c];b+=977*d,a.words[c]=67108863&b,b=64*d+(b/67108864|0)}return 0===a.words[a.length-1]&&(a.length--,0===a.words[a.length-1]&&a.length--),a},e(p,n),e(q,n),e(r,n),r.prototype.imulK=function(a){for(var b=0,c=0;c<a.length;c++){var d=19*(0|a.words[c])+b,e=67108863&d;d>>>=26,a.words[c]=e,b=d}return 0!==b&&(a.words[a.length++]=b),a},f._prime=function B(a){if(A[a])return A[a];var B;if("k256"===a)B=new o;else if("p224"===a)B=new p;else if("p192"===a)B=new q;else{if("p25519"!==a)throw new Error("Unknown prime "+a);B=new r}return A[a]=B,B},s.prototype._verify1=function(a){d(0===a.negative,"red works only with positives"),d(a.red,"red works only with red numbers")},s.prototype._verify2=function(a,b){d(0===(a.negative|b.negative),"red works only with positives"),d(a.red&&a.red===b.red,"red works only with red numbers")},s.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},s.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},s.prototype.add=function(a,b){this._verify2(a,b);var c=a.add(b);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},s.prototype.iadd=function(a,b){this._verify2(a,b);var c=a.iadd(b);return c.cmp(this.m)>=0&&c.isub(this.m),c},s.prototype.sub=function(a,b){this._verify2(a,b);var c=a.sub(b);return c.cmpn(0)<0&&c.iadd(this.m),c._forceRed(this)},s.prototype.isub=function(a,b){this._verify2(a,b);var c=a.isub(b);return c.cmpn(0)<0&&c.iadd(this.m),c},s.prototype.shl=function(a,b){return this._verify1(a),this.imod(a.ushln(b))},s.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},s.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},s.prototype.isqr=function(a){return this.imul(a,a.clone())},s.prototype.sqr=function(a){return this.mul(a,a)},s.prototype.sqrt=function(a){if(a.isZero())return a.clone();var b=this.m.andln(3);if(d(b%2===1),3===b){var c=this.m.add(new f(1)).iushrn(2);return this.pow(a,c)}for(var e=this.m.subn(1),g=0;!e.isZero()&&0===e.andln(1);)g++,e.iushrn(1);d(!e.isZero());var h=new f(1).toRed(this),i=h.redNeg(),j=this.m.subn(1).iushrn(1),k=this.m.bitLength();for(k=new f(2*k*k).toRed(this);0!==this.pow(k,j).cmp(i);)k.redIAdd(i);for(var l=this.pow(k,e),m=this.pow(a,e.addn(1).iushrn(1)),n=this.pow(a,e),o=g;0!==n.cmp(h);){for(var p=n,q=0;0!==p.cmp(h);q++)p=p.redSqr();d(q<o);var r=this.pow(l,new f(1).iushln(o-q-1));m=m.redMul(r),l=r.redSqr(),n=n.redMul(l),o=q}return m},s.prototype.invm=function(a){var b=a._invmp(this.m);return 0!==b.negative?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},s.prototype.pow=function(a,b){if(b.isZero())return new f(1).toRed(this);if(0===b.cmpn(1))return a.clone();var c=4,d=new Array(1<<c);d[0]=new f(1).toRed(this),d[1]=a;for(var e=2;e<d.length;e++)d[e]=this.mul(d[e-1],a);var g=d[0],h=0,i=0,j=b.bitLength()%26;for(0===j&&(j=26),e=b.length-1;e>=0;e--){for(var k=b.words[e],l=j-1;l>=0;l--){var m=k>>l&1;g!==d[0]&&(g=this.sqr(g)),0!==m||0!==h?(h<<=1,h|=m,i++,(i===c||0===e&&0===l)&&(g=this.mul(g,d[h]),i=0,h=0)):i=0}j=26}return g},s.prototype.convertTo=function(a){var b=a.umod(this.m);return b===a?b.clone():b},s.prototype.convertFrom=function(a){var b=a.clone();return b.red=null,b},f.mont=function(a){return new t(a)},e(t,s),t.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},t.prototype.convertFrom=function(a){var b=this.imod(a.mul(this.rinv));return b.red=null,b},t.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var c=a.imul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).iushrn(this.shift),f=e;return e.cmp(this.m)>=0?f=e.isub(this.m):e.cmpn(0)<0&&(f=e.iadd(this.m)),f._forceRed(this)},t.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new f(0)._forceRed(this);var c=a.mul(b),d=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),e=c.isub(d).iushrn(this.shift),g=e;return e.cmp(this.m)>=0?g=e.isub(this.m):e.cmpn(0)<0&&(g=e.iadd(this.m)),g._forceRed(this)},t.prototype.invm=function(a){var b=this.imod(a._invmp(this.m).mul(this.r2));return b._forceRed(this)}}("undefined"==typeof b||b,this)},{buffer:3}],3:[function(a,b,c){},{}],4:[function(a,b,c){"use strict";function d(a){var b={};for(var c in a)b[c]=a[c];return b}function e(a,b,c){function i(c,e){return function(){var f={},i=Array.prototype.slice.call(arguments);if(i.length==c.inputs.types.length+1){if(f=i.pop(),"object"!=typeof f)throw new Error("invalid transaction overrides");f=d(f);for(var l in f)if(!h[l])throw new Error("unknown transaction override "+l)}["data","to"].forEach(function(a){if(null!=f[a])throw new Error("cannot override "+a)});var m=c.apply(b,i);switch(f.to=a,f.data=m.data,m.type){case"call":if(e)return Promise.resolve(new g.bigNumberify(0));["gasLimit","gasPrice","value"].forEach(function(a){if(null!=f[a])throw new Error("call cannot override "+a)});var n=null;return null==f.from&&j&&j.getAddress?(n=j.getAddress(),n instanceof Promise||(n=Promise.resolve(n))):n=Promise.resolve(null),n.then(function(a){return a&&(f.from=g.getAddress(a)),k.call(f)}).then(function(a){return m.parse(a)});case"transaction":if(!j)return Promise.reject(new Error("missing signer"));if(null!=f.from)throw new Error("transaction cannot override from");if(e)return j&&j.estimateGas?j.estimateGas(f):k.estimateGas(f);if(j.sendTransaction)return j.sendTransaction(f);if(!j.sign)return Promise.reject(new Error("custom signer does not support signing"));null==f.gasLimit&&(f.gasLimit=j.defaultGasLimit||2e6);var o=null;if(f.nonce)o=Promise.resolve(f.nonce);else if(j.getTransactionCount)o=j.getTransactionCount(),o instanceof Promise||(o=Promise.resolve(o));else{var p=j.getAddress();p instanceof Promise||(p=Promise.resolve(p)),o=p.then(function(a){return k.getTransactionCount(a,"pending")})}var q=null;return q=f.gasPrice?Promise.resolve(f.gasPrice):k.getGasPrice(),Promise.all([o,q]).then(function(a){return f.nonce=a[0],f.gasPrice=a[1],j.sign(f)}).then(function(a){return k.sendTransaction(a)})}}}if(!(this instanceof e))throw new Error("missing new");if(b instanceof f||(b=new f(b)),!c)throw new Error("missing signer or provider");var j=c,k=null;c.provider?k=c.provider:(k=c,j=null),g.defineProperty(this,"address",a),g.defineProperty(this,"interface",b),g.defineProperty(this,"signer",j),g.defineProperty(this,"provider",k);var l=k.resolveName(a),m={};g.defineProperty(this,"estimate",m);var n={};g.defineProperty(this,"functions",n);var o={};g.defineProperty(this,"events",o),Object.keys(b.functions).forEach(function(a){var c=b.functions[a],d=i(c,!1);null==this[a]?g.defineProperty(this,a,d):console.log("WARNING: Multiple definitions for "+c),null==n[c]&&(g.defineProperty(n,a,d),g.defineProperty(m,a,i(c,!0)))},this),Object.keys(b.events).forEach(function(a){function c(b){l.then(function(f){if(f==b.address)try{var g=d.parse(b.topics,b.data);b.args=g,b.event=a,b.parse=d.parse,b.removeListener=function(){k.removeListener(d.topics,c)};var h=function(a,c){return new Promise(function(d,e){function f(){k[a](b[c]).then(function(a){return null==a?void setTimeout(f,1e3):void d(a)},function(a){e(a)})}f()})};b.getBlock=function(){return h("getBlock","blockHash")},b.getTransaction=function(){return h("getTransaction","transactionHash")},b.getTransactionReceipt=function(){return h("getTransactionReceipt","transactionHash")},b.eventSignature=d.signature,e.apply(b,Array.prototype.slice.call(g))}catch(i){console.log(i)}})}var d=b.events[a](),e=null,f={enumerable:!0,get:function(){return e},set:function(a){a||(a=null),!a&&e?k.removeListener(d.topics,c):a&&!e&&k.on(d.topics,c),e=a}},g="on"+a.toLowerCase();null==this[g]&&Object.defineProperty(this,g,f),Object.defineProperty(o,a,f)},this)}var f=a("./interface.js"),g=function(){return{defineProperty:a("ethers-utils/properties.js").defineProperty,getAddress:a("ethers-utils/address.js").getAddress,bigNumberify:a("ethers-utils/bignumber.js").bigNumberify,hexlify:a("ethers-utils/convert.js").hexlify}}(),h={data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0};g.defineProperty(e.prototype,"connect",function(a){return new e(this.address,this["interface"],a)}),g.defineProperty(e,"getDeployTransaction",function(a,b){b instanceof f||(b=new f(b));var c=Array.prototype.slice.call(arguments);return c.splice(1,1),{data:b.deployFunction.apply(b,c).bytecode}}),b.exports=e},{"./interface.js":5,"ethers-utils/address.js":16,"ethers-utils/bignumber.js":17,"ethers-utils/convert.js":20,"ethers-utils/properties.js":25}],5:[function(a,b,c){"use strict";function d(a,b,c){var d=JSON.stringify(c);Object.defineProperty(a,b,{enumerable:!0,get:function(){return JSON.parse(d)}})}function e(a,b,c){Array.isArray(a)||z("invalid params",{params:a});for(var d=[],e=0;e<a.length;e++){var f=a[e][b];c&&!f?f="":"string"!=typeof f&&z("invalid abi",{params:a,key:b,value:f}),d.push(f)}return d}function f(a){var b=[],c=[];return a.forEach(function(a){if(null!=a.components){if("tuple"!==a.type.substring(0,5))throw new Error("internal error; report on GitHub");var d="",e=a.type.indexOf("[");e>=0&&(d=a.type.substring(e));var g=f(a.components);b.push({name:a.name||null,names:g.names}),c.push("tuple("+g.types.join(",")+")"+d)}else b.push(a.name||null),c.push(a.type)}),{names:b,types:c}}function g(a,b,c){var d=(b?"int":"uint")+a;return{localName:c,name:d,type:d,encode:function(c){return c=A.bigNumberify(c).toTwos(8*a).maskn(8*a),b&&(c=c.fromTwos(8*a).toTwos(256)),A.padZeros(A.arrayify(c),32)},decode:function(c,d){var e=32-a,f=A.bigNumberify(c.slice(d+e,d+32));return f=b?f.fromTwos(8*a):f.maskn(8*a),a<=6&&(f=f.toNumber()),{consumed:32,value:f}}}}function h(a,b){var c="bytes"+a;return{localName:b,name:c,type:c,encode:function(b){if(b=A.arrayify(b),32===a)return b;var c=new Uint8Array(32);return c.set(b),c},decode:function(b,c){return b.length<c+32&&z("invalid bytes"+a),{consumed:32,value:A.hexlify(b.slice(c,c+a))}}}}function i(a){var b=parseInt(32*Math.ceil(a.length/32)),c=new Uint8Array(b-a.length);return A.concat([C.encode(a.length),a,c])}function j(a,b){a.length<b+32&&z("invalid bytes");var c=C.decode(a,b).value;return c=c.toNumber(),a.length<b+32+c&&z("invalid bytes"),{consumed:parseInt(32+32*Math.ceil(c/32)),value:a.slice(b+32,b+32+c)}}function k(a){return parseInt(32*Math.ceil(a/32))}function l(a,b){if(Array.isArray(b))a.length!==b.length&&z("types/values mismatch",{type:type,values:b});else if(b&&"object"==typeof b){var c=[];a.forEach(function(a){c.push(b[a.localName])}),b=c}else z("invalid value",{type:"tuple",values:b});var d=[];a.forEach(function(a,c){d.push({dynamic:a.dynamic,value:a.encode(b[c])})});var e=0,f=0;d.forEach(function(a,b){a.dynamic?(e+=32,f+=k(a.value.length)):e+=k(a.value.length)});var g=0,h=e,i=new Uint8Array(e+f);return d.forEach(function(a,b){a.dynamic?(i.set(C.encode(h),g),g+=32,i.set(a.value,h),h+=k(a.value.length)):(i.set(a.value,g),g+=k(a.value.length))}),i}function m(a,b,c){var d=c,e=0,f=[];return a.forEach(function(a){if(a.dynamic){var g=C.decode(b,c),h=a.decode(b,d+g.value.toNumber());h.consumed=g.consumed}else var h=a.decode(b,c);void 0!=h.value&&f.push(h.value),c+=h.consumed,e+=h.consumed}),a.forEach(function(a,b){var c=a.localName;c&&("object"==typeof c&&(c=c.name),c&&("length"===c&&(c="_length"),null==f[c]&&(f[c]=f[b])))}),{value:f,consumed:e}}function n(a,b,c){var d=a.type+"["+(b>=0?b:"")+"]";return{coder:a,localName:c,length:b,name:"array",type:d,encode:function(c){Array.isArray(c)||z("invalid array");var d=b,e=new Uint8Array(0);d===-1&&(d=c.length,e=C.encode(d)),d!==c.length&&z("size mismatch");var f=[];return c.forEach(function(b){f.push(a)}),A.concat([e,l(f,c)])},decode:function(c,d){var e=0,f=b;if(f===-1){var g=C.decode(c,d);f=g.value.toNumber(),e+=g.consumed,d+=g.consumed}for(var h=[],i=0;i<f;i++)h.push(a);var j=m(h,c,d);return j.consumed+=e,j},dynamic:b===-1||a.dynamic}}function o(a,b){var c=!1,d=[];a.forEach(function(a){a.dynamic&&(c=!0),d.push(a.type)});var e="tuple("+d.join(",")+")";return{coders:a,localName:b,name:"tuple",type:e,encode:function(b){return l(a,b)},decode:function(b,c){return m(a,b,c)},dynamic:c}}function p(a){for(var b=[],c="",d=0,e=0;e<a.length;e++){var f=a[e];if(","===f&&0===d)b.push(c),c="";else if(c+=f,"("===f)d++;else if(")"===f&&(d--,d===-1))throw new Error("unbalanced parenthsis")}return b.push(c),b}function q(a,b){var c=K[a];if(c)return c(b);var d=a.match(I);if(d){var e=parseInt(d[2]||256);return(0===e||e>256||e%8!==0)&&z("invalid type",{type:a}),g(e/8,"int"===d[1],b)}var d=a.match(H);if(d){var e=parseInt(d[1]);return(0===e||e>32)&&z("invalid type "+a),h(e,b)}var d=a.match(J);if(d){var e=parseInt(d[2]||-1);return n(q(d[1],b),e,b)}if("tuple("===a.substring(0,6)&&")"===a.substring(a.length-1)){var f=[],i=[];return b&&"object"==typeof b&&(Array.isArray(b.names)&&(i=b.names),"string"==typeof b.name&&(b=b.name)),p(a.substring(6,a.length-1)).forEach(function(a,b){f.push(q(a,i[b]))}),o(f,b)}return""===a?B:void z("invalid type",{type:a})}function r(a,b){for(var c in b)A.defineProperty(a,c,b[c]);return a}function s(){}function t(){}function u(){}function v(){}function w(a){A.defineProperty(this,"indexed",!0),A.defineProperty(this,"hash",a)}function x(a){function b(a){switch(a.type){case"constructor":var b=function(){var b=f(a.inputs),c=function(a){A.isHexString(a)||z("invalid bytecode",{input:a});var c=Array.prototype.slice.call(arguments,1);c.length<b.types.length?z("missing parameter"):c.length>b.types.length&&z("too many parameters");var d={bytecode:a+x.encodeParams(b.names,b.types,c).substring(2)};return r(new t,d)};return d(c,"inputs",b),c}();i||(i=b);break;case"function":var b=function(){var b=f(a.inputs),c=f(a.outputs);if(a.constant)var e=c.types,g=c.names;var h="("+b.types.join(",")+")";h=h.replace(/tuple/g,""),h=a.name+h;var i=A.keccak256(A.toUtf8Bytes(h)).substring(0,10),j=function(){var c={name:a.name,signature:h,sighash:i},d=Array.prototype.slice.call(arguments,0);return d.length<b.types.length?z("missing parameter"):d.length>b.types.length&&z("too many parameters"),c.data=i+x.encodeParams(b.names,b.types,d).substring(2),a.constant?(c.parse=function(a){return x.decodeParams(g,e,A.arrayify(a))},r(new s,c)):r(new u,c)};return d(j,"inputs",b),d(j,"outputs",c),A.defineProperty(j,"signature",h),A.defineProperty(j,"sighash",i),j}();a.name&&"deployFunction"!==a.name&&null==g[a.name]&&A.defineProperty(g,a.name,b);break;case"event":var b=function(){var b=(e(a.inputs,"type"),function(){var b=a.name+"("+e(a.inputs,"type").join(",")+")",c={inputs:a.inputs,name:a.name,signature:b,topics:[A.keccak256(A.toUtf8Bytes(b))]};return c.parse=function(b,c){null==c&&(c=b,b=null),null==b||a.anonymous||(b=b.slice(1));var d=[],e=[],f=[],g=[],h=[];if(a.inputs.forEach(function(a){a.indexed?("string"===a.type||"bytes"===a.type||a.type.indexOf("[")>=0?(f.push("bytes32"),h.push(!0)):(f.push(a.type),h.push(!1)),d.push(a.name)):(e.push(a.name),g.push(a.type),h.push(!1))}),null!=b)var i=x.decodeParams(d,f,A.concat(b));var j=x.decodeParams(e,g,A.arrayify(c)),k=new y,l=0,m=0;return a.inputs.forEach(function(a,c){a.indexed?null==b?k[c]=new w(null):h[c]?k[c]=new w(i[m++]):k[c]=i[m++]:k[c]=j[l++],a.name&&(k[a.name]=k[c])}),k.length=a.inputs.length,k},r(new v,c)}),c=b();return d(b,"inputs",e(a.inputs,"name")),A.defineProperty(b,"parse",c.parse),A.defineProperty(b,"signature",c.signature),A.defineProperty(b,"topic",c.topics[0]),b}();a.name&&null==h[a.name]&&A.defineProperty(h,a.name,b);break;case"fallback":break;default:console.log("WARNING: unsupported ABI type - "+a.type)}}if(!(this instanceof x))throw new Error("missing new");if("string"==typeof a)try{a=JSON.parse(a)}catch(c){z("invalid abi",{input:a})}d(this,"abi",a);var g={},h={},i=null;A.defineProperty(this,"functions",g),A.defineProperty(this,"events",h),this.abi.forEach(b,this),i||b({type:"constructor",inputs:[]}),A.defineProperty(this,"deployFunction",i)}function y(){}var z=a("ethers-utils/throw-error"),A=function(){var b=a("ethers-utils/convert.js"),c=a("ethers-utils/utf8.js");return{defineProperty:a("ethers-utils/properties.js").defineProperty,arrayify:b.arrayify,padZeros:b.padZeros,bigNumberify:a("ethers-utils/bignumber.js").bigNumberify,getAddress:a("ethers-utils/address").getAddress,concat:b.concat,toUtf8Bytes:c.toUtf8Bytes,toUtf8String:c.toUtf8String,hexlify:b.hexlify,isHexString:b.isHexString,keccak256:a("ethers-utils/keccak256.js")}}(),B={name:"null",type:"",encode:function(a){return A.arrayify([])},decode:function(a,b){if(b>a.length)throw new Error("invalid null");return{consumed:0,value:void 0}},dynamic:!1},C=g(32,!1),D=function(a){return{localName:a,name:"boolean",type:"boolean",encode:function(a){return C.encode(a?1:0)},decode:function(a,b){var c=C.decode(a,b);return{consumed:c.consumed,value:!c.value.isZero()}}}},E=function(a){return{localName:a,name:"address",type:"address",
encode:function(a){a=A.arrayify(A.getAddress(a));var b=new Uint8Array(32);return b.set(a,12),b},decode:function(a,b){return a.length<b+32&&z("invalid address"),{consumed:32,value:A.getAddress(A.hexlify(a.slice(b+12,b+32)))}}}},F=function(a){return{localName:a,name:"bytes",type:"bytes",encode:function(a){return i(A.arrayify(a))},decode:function(a,b){var c=j(a,b);return c.value=A.hexlify(c.value),c},dynamic:!0}},G=function(a){return{localName:a,name:"string",type:"string",encode:function(a){return i(A.toUtf8Bytes(a))},decode:function(a,b){var c=j(a,b);return c.value=A.toUtf8String(c.value),c},dynamic:!0}},H=new RegExp(/^bytes([0-9]*)$/),I=new RegExp(/^(u?int)([0-9]*)$/),J=new RegExp(/^(.*)\[([0-9]*)\]$/),K={address:E,bool:D,string:G,bytes:F};A.defineProperty(s.prototype,"type","call"),A.defineProperty(t.prototype,"type","deploy"),A.defineProperty(u.prototype,"type","transaction"),A.defineProperty(v.prototype,"type","event"),A.defineProperty(x,"encodeParams",function(a,b,c){arguments.length<3&&(c=b,b=a,a=null),b.length!==c.length&&z("types/values mismatch",{types:b,values:c});var d=[];return b.forEach(function(b,c){d.push(q(b,a?a[c]:void 0))}),A.hexlify(o(d).encode(c))}),A.defineProperty(x,"decodeParams",function(a,b,c){arguments.length<3&&(c=b,b=a,a=null),c=A.arrayify(c);var d=[];b.forEach(function(b,c){d.push(q(b,a?a[c]:void 0))});new y;return o(d).decode(c,0).value}),b.exports=x},{"ethers-utils/address":16,"ethers-utils/bignumber.js":17,"ethers-utils/convert.js":20,"ethers-utils/keccak256.js":23,"ethers-utils/properties.js":25,"ethers-utils/throw-error":30,"ethers-utils/utf8.js":32}],6:[function(a,b,c){"use strict";try{b.exports.XMLHttpRequest=XMLHttpRequest}catch(d){console.log("Warning: XMLHttpRequest is not defined"),b.exports.XMLHttpRequest=null}},{}],7:[function(a,b,c){"use strict";function d(a){for(;a.length>3&&"0x0"===a.substring(0,3);)a="0x"+a.substring(3);return a}function e(a){var b=[];for(var c in a)if(null!=a[c]){var e=k.hexlify(a[c]);({gasLimit:!0,gasPrice:!0,nonce:!0,value:!0})[c]&&(e=d(e)),b.push(c+"="+e)}return b.join("&")}function f(a,b){j.call(this,a);var c=null;switch(this.name){case"homestead":c="https://api.etherscan.io";break;case"ropsten":c="https://ropsten.etherscan.io";break;case"rinkeby":c="https://rinkeby.etherscan.io";break;case"kovan":c="https://kovan.etherscan.io";break;default:throw new Error("unsupported network")}k.defineProperty(this,"baseUrl",c),k.defineProperty(this,"apiKey",b||null)}function g(a){if(0==a.status&&"No records found"===a.message)return a.result;if(1!=a.status||"OK"!=a.message){var b=new Error("invalid response");throw b.result=JSON.stringify(a),b}return a.result}function h(a){if("2.0"!=a.jsonrpc){var b=new Error("invalid response");throw b.result=JSON.stringify(a),b}if(a.error){var b=new Error(a.error.message||"unknown error");throw a.error.code&&(b.code=a.error.code),a.error.data&&(b.data=a.error.data),b}return a.result}function i(a){if("pending"===a)throw new Error("pending not supported");return"latest"===a?a:parseInt(a.substring(2),16)}var j=a("./provider.js"),k=function(){var b=a("ethers-utils/convert.js");return{defineProperty:a("ethers-utils/properties.js").defineProperty,hexlify:b.hexlify}}();j.inherits(f),k.defineProperty(f.prototype,"_call",function(){}),k.defineProperty(f.prototype,"_callProxy",function(){}),k.defineProperty(f.prototype,"perform",function(a,b){b||(b={});var c=this.baseUrl,f="";switch(this.apiKey&&(f+="&apikey="+this.apiKey),a){case"getBlockNumber":return c+="/api?module=proxy&action=eth_blockNumber"+f,j.fetchJSON(c,null,h);case"getGasPrice":return c+="/api?module=proxy&action=eth_gasPrice"+f,j.fetchJSON(c,null,h);case"getBalance":return c+="/api?module=account&action=balance&address="+b.address,c+="&tag="+b.blockTag+f,j.fetchJSON(c,null,g);case"getTransactionCount":return c+="/api?module=proxy&action=eth_getTransactionCount&address="+b.address,c+="&tag="+b.blockTag+f,j.fetchJSON(c,null,h);case"getCode":return c+="/api?module=proxy&action=eth_getCode&address="+b.address,c+="&tag="+b.blockTag+f,j.fetchJSON(c,null,h);case"getStorageAt":return c+="/api?module=proxy&action=eth_getStorageAt&address="+b.address,c+="&position="+d(b.position),c+="&tag="+d(b.blockTag)+f,j.fetchJSON(c,null,h);case"sendTransaction":return c+="/api?module=proxy&action=eth_sendRawTransaction&hex="+b.signedTransaction,c+=f,j.fetchJSON(c,null,h);case"getBlock":if(b.blockTag)return c+="/api?module=proxy&action=eth_getBlockByNumber&tag="+d(b.blockTag),c+="&boolean=false",c+=f,j.fetchJSON(c,null,h);throw new Error("getBlock by blockHash not implmeneted");case"getTransaction":return c+="/api?module=proxy&action=eth_getTransactionByHash&txhash="+b.transactionHash,c+=f,j.fetchJSON(c,null,h);case"getTransactionReceipt":return c+="/api?module=proxy&action=eth_getTransactionReceipt&txhash="+b.transactionHash,c+=f,j.fetchJSON(c,null,h);case"call":var k=e(b.transaction);return k&&(k="&"+k),c+="/api?module=proxy&action=eth_call"+k,c+=f,j.fetchJSON(c,null,h);case"estimateGas":var k=e(b.transaction);return k&&(k="&"+k),c+="/api?module=proxy&action=eth_estimateGas&"+k,c+=f,j.fetchJSON(c,null,h);case"getLogs":c+="/api?module=logs&action=getLogs";try{if(b.filter.fromBlock&&(c+="&fromBlock="+i(b.filter.fromBlock)),b.filter.toBlock&&(c+="&toBlock="+i(b.filter.toBlock)),b.filter.address&&(c+="&address="+b.filter.address),b.filter.topics&&b.filter.topics.length>0){if(b.filter.topics.length>1)throw new Error("unsupported topic format");var l=b.filter.topics[0];if("string"!=typeof l||66!==l.length)throw new Error("unsupported topic0 format");c+="&topic0="+l}}catch(m){return Promise.reject(m)}return c+=f,j.fetchJSON(c,null,g);case"getEtherPrice":return"homestead"!==this.name?Promise.resolve(0):(c+="/api?module=stats&action=ethprice",c+=f,j.fetchJSON(c,null,g).then(function(a){return parseFloat(a.ethusd)}))}return Promise.reject(new Error("not implemented - "+a))}),k.defineProperty(f.prototype,"getHistory",function(a,b,c){var d=this.baseUrl,e="";return this.apiKey&&(e+="&apikey="+this.apiKey),null==b&&(b=0),null==c&&(c=99999999),this.resolveName(a).then(function(a){return d+="/api?module=account&action=txlist&address="+a,d+="&fromBlock="+b,d+="&endBlock="+c,d+="&sort=asc",j.fetchJSON(d,null,g).then(function(a){var b=[];return a.forEach(function(a){["contractAddress","to"].forEach(function(b){""==a[b]&&delete a[b]}),null==a.creates&&null!=a.contractAddress&&(a.creates=a.contractAddress),b.push(j._formatters.checkTransactionResponse(a))}),b})})}),b.exports=f},{"./provider.js":14,"ethers-utils/convert.js":20,"ethers-utils/properties.js":25}],8:[function(a,b,c){"use strict";function d(a){if(0===a.length)throw new Error("no providers");var b={};if(["chainId","ensAddress","name","testnet"].forEach(function(c){for(var d=1;d<a.length;d++)if(a[0][c]!==a[d][c])throw new Error("incompatible providers - "+c+" mismatch");b[c]=a[0][c]}),!(this instanceof d))throw new Error("missing new");f.call(this,b),a=a.slice(0),Object.defineProperty(this,"providers",{get:function(){return a.slice(0)}})}var e=a("inherits"),f=a("./provider.js"),g=function(){return{defineProperty:a("ethers-utils/properties.js").defineProperty}}();e(d,f),g.defineProperty(d.prototype,"perform",function(a,b){var c=this.providers;return new Promise(function(d,e){function f(){if(!c.length)return void e(g);var h=c.shift();h.perform(a,b).then(function(a){d(a)},function(a){g||(g=a),f()})}var g=null;f()})}),b.exports=d},{"./provider.js":14,"ethers-utils/properties.js":25,inherits:13}],9:[function(a,b,c){"use strict";function d(a){return new g([new h(a),new f(a)])}var e=a("./provider.js"),f=a("./etherscan-provider.js"),g=a("./fallback-provider.js"),h=a("./infura-provider.js"),i=a("./json-rpc-provider.js"),j=a("./web3-provider.js");b.exports={EtherscanProvider:f,FallbackProvider:g,InfuraProvider:h,JsonRpcProvider:i,Web3Provider:j,isProvider:e.isProvider,networks:e.networks,getDefaultProvider:d,Provider:e},a("ethers-utils/standalone.js")({providers:b.exports})},{"./etherscan-provider.js":7,"./fallback-provider.js":8,"./infura-provider.js":10,"./json-rpc-provider.js":11,"./provider.js":14,"./web3-provider.js":15,"ethers-utils/standalone.js":29}],10:[function(a,b,c){"use strict";function d(a,b){if(!(this instanceof d))throw new Error("missing new");a=e._legacyConstructor(a,1,arguments[0]);var c=null;switch(a.name){case"homestead":c="mainnet.infura.io";break;case"ropsten":c="ropsten.infura.io";break;case"rinkeby":c="rinkeby.infura.io";break;case"kovan":c="kovan.infura.io";break;default:throw new Error("unsupported network")}var h="https://"+c+"/"+(b||"");f.call(this,h,a),g.defineProperty(this,"apiAccessToken",b||null)}var e=a("./provider"),f=a("./json-rpc-provider"),g=function(){return{defineProperty:a("ethers-utils/properties.js").defineProperty}}();f.inherits(d),g.defineProperty(d.prototype,"_startPending",function(){console.log("WARNING: INFURA does not support pending filters")}),g.defineProperty(d.prototype,"_stopPending",function(){}),b.exports=d},{"./json-rpc-provider":11,"./provider":14,"ethers-utils/properties.js":25}],11:[function(a,b,c){"use strict";function d(a){return new Promise(function(b){setTimeout(function(){b()},a)})}function e(a){if(a.error){var b=new Error(a.error.message);throw b.code=a.error.code,b.data=a.error.data,b}return a.result}function f(a){for(;a.length>3&&"0x0"===a.substring(0,3);)a="0x"+a.substring(3);return a}function g(a){var b={};for(var c in a)b[c]=j.hexlify(a[c]);return["gasLimit","gasPrice","nonce","value"].forEach(function(a){b[a]&&(b[a]=f(b[a]))}),null!=b.gasLimit&&null==b.gas&&(b.gas=b.gasLimit,delete b.gasLimit),b}function h(a,b){if(!(this instanceof h))throw new Error("missing new");var c=[];"string"!=typeof a||null!=i.networks[a]?(c.push(a),null!=b&&c.push(b),a=null):2===arguments.length?c.push(arguments[1]):3===arguments.length&&(c.push(arguments[1]),c.push(arguments[2])),i.apply(this,c),a||(a="http://localhost:8545"),j.defineProperty(this,"url",a)}var i=a("./provider.js"),j=function(){var b=a("ethers-utils/convert");return{defineProperty:a("ethers-utils/properties").defineProperty,hexlify:b.hexlify,isHexString:b.isHexString}}();i.inherits(h),j.defineProperty(h.prototype,"send",function(a,b){var c={method:a,params:b,id:42,jsonrpc:"2.0"};return i.fetchJSON(this.url,JSON.stringify(c),e)}),j.defineProperty(h.prototype,"perform",function(a,b){switch(a){case"getBlockNumber":return this.send("eth_blockNumber",[]);case"getGasPrice":return this.send("eth_gasPrice",[]);case"getBalance":var c=b.blockTag;return j.isHexString(c)&&(c=f(c)),this.send("eth_getBalance",[b.address,c]);case"getTransactionCount":var c=b.blockTag;return j.isHexString(c)&&(c=f(c)),this.send("eth_getTransactionCount",[b.address,c]);case"getCode":var c=b.blockTag;return j.isHexString(c)&&(c=f(c)),this.send("eth_getCode",[b.address,c]);case"getStorageAt":var d=b.position;j.isHexString(d)&&(d=f(d));var c=b.blockTag;return j.isHexString(c)&&(c=f(c)),this.send("eth_getStorageAt",[b.address,d,c]);case"sendTransaction":return this.send("eth_sendRawTransaction",[b.signedTransaction]);case"getBlock":if(b.blockTag){var c=b.blockTag;return j.isHexString(c)&&(c=f(c)),this.send("eth_getBlockByNumber",[c,!1])}return b.blockHash?this.send("eth_getBlockByHash",[b.blockHash,!1]):Promise.reject(new Error("invalid block tag or block hash"));case"getTransaction":return this.send("eth_getTransactionByHash",[b.transactionHash]);case"getTransactionReceipt":return this.send("eth_getTransactionReceipt",[b.transactionHash]);case"call":return this.send("eth_call",[g(b.transaction),"latest"]);case"estimateGas":return this.send("eth_estimateGas",[g(b.transaction)]);case"getLogs":return this.send("eth_getLogs",[b.filter])}return Promise.reject(new Error("not implemented - "+a))}),j.defineProperty(h.prototype,"_startPending",function(){if(null==this._pendingFilter){var a=this,b=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=b,b.then(function(c){function e(){a.send("eth_getFilterChanges",[c]).then(function(c){if(a._pendingFilter==b){var e=Promise.resolve();return c.forEach(function(b){e=e.then(function(){return a.getTransaction(b).then(function(b){a.emit("pending",b)})})}),e.then(function(){return d(1e3)})}}).then(function(){return a._pendingFilter!=b?void a.send("eth_uninstallFilter",[filterIf]):void setTimeout(function(){e()},0)})}return e(),c})}}),j.defineProperty(h.prototype,"_stopPending",function(){this._pendingFilter=null}),j.defineProperty(h,"_hexlifyTransaction",function(a){return g(a)}),b.exports=h},{"./provider.js":14,"ethers-utils/convert":20,"ethers-utils/properties":25}],12:[function(a,b,c){b.exports={unspecified:{chainId:0,name:"unspecified"},homestead:{chainId:1,ensAddress:"0x314159265dd8dbb310642f98f50c066173c1259b",name:"homestead"},mainnet:{chainId:1,ensAddress:"0x314159265dd8dbb310642f98f50c066173c1259b",name:"homestead"},morden:{chainId:2,name:"morden"},ropsten:{chainId:3,ensAddress:"0x112234455c3a32fd11230c42e7bccd4a84e02010",name:"ropsten"},testnet:{chainId:3,ensAddress:"0x112234455c3a32fd11230c42e7bccd4a84e02010",name:"ropsten"},rinkeby:{chainId:4,name:"rinkeby"},kovan:{chainId:42,name:"kovan"}}},{}],13:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],14:[function(a,b,c){"use strict";function d(a){var b={};for(var c in a)b[c]=a[c];return b}function e(a,b){var c={};for(var d in a)try{var e=a[d](b[d]);void 0!==e&&(c[d]=e)}catch(f){throw f.checkKey=d,f.checkValue=b[d],f}return c}function f(a,b){return function(c){return null==c?b:a(c)}}function g(a,b){return function(c){return c?a(c):b}}function h(a){return function(b){if(!Array.isArray(b))throw new Error("not an array");var c=[];return b.forEach(function(b){c.push(a(b))}),c}}function i(a){if(!E.isHexString(a)||66!==a.length)throw new Error("invalid hash - "+a);return a}function j(a){return E.bigNumberify(a).toNumber()}function k(a){if("boolean"==typeof a)return a;if("string"==typeof a){if("true"===a)return!0;if("false"===a)return!1}throw new Error("invaid boolean - "+a)}function l(a){if(!E.isHexString(a))throw new Error("invalid uint256");for(;a.length<66;)a="0x0"+a.substring(2);return a}function m(a){if("string"!=typeof a)throw new Error("invalid string");return a}function n(a){if(null==a)return"latest";if("earliest"===a)return"0x0";if("latest"===a||"pending"===a)return a;if("number"==typeof a)return E.hexlify(a);if(E.isHexString(a))return a;throw new Error("invalid blockTag")}function o(a){return null!=a.author&&null==a.miner&&(a.miner=a.author),e(F,a)}function p(a){if(null!=a.gas&&null==a.gasLimit&&(a.gasLimit=a.gas),a.to&&E.bigNumberify(a.to).isZero()&&(a.to="0x0000000000000000000000000000000000000000"),null!=a.input&&null==a.data&&(a.data=a.input),null==a.to&&null==a.creates&&(a.creates=E.getContractAddress(a)),!a.raw&&a.v&&a.r&&a.s){var b=[E.stripZeros(E.hexlify(a.nonce)),E.stripZeros(E.hexlify(a.gasPrice)),E.stripZeros(E.hexlify(a.gasLimit)),a.to||"0x",E.stripZeros(E.hexlify(a.value||"0x")),E.hexlify(a.data||"0x"),E.stripZeros(E.hexlify(a.v||"0x")),E.stripZeros(E.hexlify(a.r)),E.stripZeros(E.hexlify(a.s))];a.raw=E.RLP.encode(b)}var c=e(G,a),d=a.networkId;return E.isHexString(d)&&(d=E.bigNumberify(d).toNumber()),"number"!=typeof d&&null!=c.v&&(d=(c.v-35)/2,d<0&&(d=0),d=parseInt(d)),"number"!=typeof d&&(d=0),c.networkId=d,c.blockHash&&"x"===c.blockHash.replace(/0/g,"")&&(c.blockHash=null),c}function q(a){return e(H,a)}function r(a){return e(I,a)}function s(a){var b=(a.status,a.root,e(J,a));return b.logs.forEach(function(a,b){null==a.transactionLogIndex&&(a.transactionLogIndex=b),null==a.type&&(a.type="mined")}),null!=a.status&&(b.byzantium=!0),b}function t(a){return Array.isArray(a)?a.forEach(function(a){t(a)}):null!=a&&i(a),a}function u(a){return e(K,a)}function v(a){return e(L,a)}function w(a){function b(){e.getBlockNumber().then(function(a){if(a!==f){null===f&&(f=a-1);for(var b=f+1;b<=a;b++)e.emit("block",b);var c={};Object.keys(d).forEach(function(b){var d=A(b);"transaction"===d.type?e.getTransaction(d.hash).then(function(a){a&&a.blockNumber&&e.emit(d.hash,a)}):"address"===d.type?(g[d.address]&&(c[d.address]=g[d.address]),e.getBalance(d.address,"latest").then(function(a){var b=g[d.address];b&&a.eq(b)||(g[d.address]=a,e.emit(d.address,a))})):"topic"===d.type&&e.getLogs({fromBlock:f+1,toBlock:a,topics:d.topic}).then(function(a){0!==a.length&&a.forEach(function(a){e.emit(d.topic,a)})})}),f=a,g=c}}),e.doPoll()}if(!(this instanceof w))throw new Error("missing new");a=w._legacyConstructor(a,arguments.length,arguments[0],arguments[1]);var c=null;a.ensAddress&&(c=E.getAddress(a.ensAddress)),E.defineProperty(this,"chainId",a.chainId),E.defineProperty(this,"ensAddress",c),E.defineProperty(this,"name",a.name),E.defineProperty(this,"testnet","homestead"!==a.name);var d={};E.defineProperty(this,"_events",d);var e=this,f=null,g={};E.defineProperty(this,"resetEventsBlock",function(a){f=a,e.doPoll()});var h=null;Object.defineProperty(this,"polling",{get:function(){return null!=h},set:function(a){setTimeout(function(){a&&!h?h=setInterval(b,4e3):!a&&h&&(clearInterval(h),h=null)},0)}})}function x(a){return function(b){B(b,a),E.defineProperty(b,"inherits",x(b))}}function y(a,b){if(Array.isArray(a)){var c=[];return a.forEach(function(a){c.push(y(a,b))}),c}return b(a)}function z(a){try{return"address:"+E.getAddress(a)}catch(b){}if("block"===a)return"block";if("pending"===a)return"pending";if(E.isHexString(a)){if(66===a.length)return"tx:"+a}else if(Array.isArray(a)){a=y(a,function(a){return null==a&&(a="0x"),a});try{return"topic:"+E.RLP.encode(a)}catch(b){console.log(b)}}throw new Error("invalid event - "+a)}function A(a){if("tx:"===a.substring(0,3))return{type:"transaction",hash:a.substring(3)};if("block"===a)return{type:"block"};if("pending"===a)return{type:"pending"};if("address:"===a.substring(0,8))return{type:"address",address:a.substring(8)};if("topic:"===a.substring(0,6))try{var b=E.RLP.decode(a.substring(6));return b=y(b,function(a){return"0x"===a&&(a=null),a}),{type:"topic",topic:b}}catch(c){console.log(c)}throw new Error("invalid event string")}var B=a("inherits"),C=a("xmlhttprequest").XMLHttpRequest,D=a("./networks.json"),E=function(){var b=a("ethers-utils/convert");return{defineProperty:a("ethers-utils/properties").defineProperty,getAddress:a("ethers-utils/address").getAddress,getContractAddress:a("ethers-utils/contract-address").getContractAddress,bigNumberify:a("ethers-utils/bignumber").bigNumberify,arrayify:b.arrayify,hexlify:b.hexlify,isHexString:b.isHexString,concat:b.concat,stripZeros:b.stripZeros,namehash:a("ethers-utils/namehash"),toUtf8String:a("ethers-utils/utf8").toUtf8String,RLP:a("ethers-utils/rlp")}}(),F={hash:i,parentHash:i,number:j,timestamp:j,nonce:f(E.hexlify),difficulty:f(j),gasLimit:E.bigNumberify,gasUsed:E.bigNumberify,miner:E.getAddress,extraData:E.hexlify,transactions:f(h(i))},G={hash:i,blockHash:f(i,null),blockNumber:f(j,null),transactionIndex:f(j,null),from:E.getAddress,gasPrice:E.bigNumberify,gasLimit:E.bigNumberify,to:f(E.getAddress,null),value:E.bigNumberify,nonce:j,data:E.hexlify,r:f(l),s:f(l),v:f(j),creates:f(E.getAddress,null),raw:f(E.hexlify)},H={from:f(E.getAddress),nonce:f(j),gasLimit:f(E.bigNumberify),gasPrice:f(E.bigNumberify),to:f(E.getAddress),value:f(E.bigNumberify),data:f(E.hexlify)},I={transactionLogIndex:f(j),transactionIndex:j,blockNumber:j,transactionHash:i,address:E.getAddress,type:f(m),topics:h(i),data:E.hexlify,logIndex:j,blockHash:i},J={contractAddress:f(E.getAddress,null),transactionIndex:j,root:f(i),gasUsed:E.bigNumberify,logsBloom:E.hexlify,blockHash:i,transactionHash:i,logs:h(r),blockNumber:j,cumulativeGasUsed:E.bigNumberify,status:f(j)},K={fromBlock:f(n,void 0),toBlock:f(n,void 0),address:f(E.getAddress,void 0),topics:f(t,void 0)},L={blockNumber:f(j),blockHash:f(i),transactionIndex:j,removed:f(k),address:E.getAddress,data:g(E.hexlify,"0x"),topics:h(i),transactionHash:i,logIndex:j};E.defineProperty(w,"inherits",x(w)),E.defineProperty(w,"_legacyConstructor",function(a,b,c,d){if("boolean"==typeof c||2===b){var e=!!c,f=d;a=D[e?"ropsten":"homestead"],2===b&&null!=f&&(a={chainId:f,ensAddress:a.ensAddress,name:a.name})}else if("string"==typeof a){if(a=D[a],!a)throw new Error("unknown network")}else null==a&&(a=D.homestead);if("number"!=typeof a.chainId)throw new Error("invalid chainId");return a}),E.defineProperty(w,"chainId",{homestead:1,morden:2,ropsten:3,rinkeby:4,kovan:42}),E.defineProperty(w,"networks",D),E.defineProperty(w,"fetchJSON",function(a,b,c){return new Promise(function(d,e){var f=new C;b?(f.open("POST",a,!0),f.setRequestHeader("Content-Type","application/json")):f.open("GET",a,!0),f.onreadystatechange=function(){if(4===f.readyState){try{var g=JSON.parse(f.responseText)}catch(h){var i=new Error("invalid json response");return i.orginialError=h,i.responseText=f.responseText,void e(i)}if(c)try{g=c(g)}catch(h){return h.url=a,h.body=b,h.responseText=f.responseText,void e(h)}if(200!=f.status){var h=new Error("invalid response - "+f.status);return h.statusCode=f.statusCode,void e(h)}d(g)}},f.onerror=function(a){e(a)};try{b?f.send(b):f.send()}catch(g){var h=new Error("connection error");h.error=g,e(h)}})}),E.defineProperty(w.prototype,"waitForTransaction",function(a,b){var c=this;return new Promise(function(d,e){function f(a){g&&clearTimeout(g),d(a)}var g=null;c.once(a,f),"number"==typeof b&&b>0&&(g=setTimeout(function(){c.removeListener(a,f),e(new Error("timeout"))},b))})}),E.defineProperty(w.prototype,"getBlockNumber",function(){try{return this.perform("getBlockNumber").then(function(a){var b=parseInt(a);if(b!=a)throw new Error("invalid response - getBlockNumber");return b})}catch(a){return Promise.reject(a)}}),E.defineProperty(w.prototype,"getGasPrice",function(){try{return this.perform("getGasPrice").then(function(a){return E.bigNumberify(a)})}catch(a){return Promise.reject(a)}}),E.defineProperty(w.prototype,"getBalance",function(a,b){var c=this;return this.resolveName(a).then(function(a){var d={address:a,blockTag:n(b)};return c.perform("getBalance",d).then(function(a){return E.bigNumberify(a)})})}),E.defineProperty(w.prototype,"getTransactionCount",function(a,b){var c=this;return this.resolveName(a).then(function(a){var d={address:a,blockTag:n(b)};return c.perform("getTransactionCount",d).then(function(a){var b=parseInt(a);if(b!=a)throw new Error("invalid response - getTransactionCount");return b})})}),E.defineProperty(w.prototype,"getCode",function(a,b){var c=this;return this.resolveName(a).then(function(a){var d={address:a,blockTag:n(b)};return c.perform("getCode",d).then(function(a){return E.hexlify(a)})})}),E.defineProperty(w.prototype,"getStorageAt",function(a,b,c){var d=this;return this.resolveName(a).then(function(a){var e={address:a,blockTag:n(c),position:E.hexlify(b)};return d.perform("getStorageAt",e).then(function(a){return E.hexlify(a)})})}),E.defineProperty(w.prototype,"sendTransaction",function(a){try{var b={signedTransaction:E.hexlify(a)};return this.perform("sendTransaction",b).then(function(a){if(a=E.hexlify(a),66!==a.length)throw new Error("invalid response - sendTransaction");return a})}catch(c){return Promise.reject(c)}}),E.defineProperty(w.prototype,"call",function(a){var b=this;return this._resolveNames(a,["to","from"]).then(function(a){var c={transaction:q(a)};return b.perform("call",c).then(function(a){return E.hexlify(a)})})}),E.defineProperty(w.prototype,"estimateGas",function(a){var b=this;return this._resolveNames(a,["to","from"]).then(function(a){var c={transaction:q(a)};return b.perform("estimateGas",c).then(function(a){return E.bigNumberify(a)})})}),E.defineProperty(w.prototype,"getBlock",function(a){try{var b=E.hexlify(a);if(66===b.length)return this.perform("getBlock",{blockHash:b}).then(function(a){return null==a?null:o(a)})}catch(c){console.log("DEBUG",c)}try{var d=n(a);return this.perform("getBlock",{blockTag:d}).then(function(a){return null==a?null:o(a)})}catch(c){console.log("DEBUG",c)}return Promise.reject(new Error("invalid block hash or block tag"))}),E.defineProperty(w.prototype,"getTransaction",function(a){try{var b={transactionHash:i(a)};return this.perform("getTransaction",b).then(function(a){return null!=a&&(a=p(a)),a})}catch(c){return Promise.reject(c)}}),E.defineProperty(w.prototype,"getTransactionReceipt",function(a){try{var b={transactionHash:i(a)};return this.perform("getTransactionReceipt",b).then(function(a){return null!=a&&(a=s(a)),a})}catch(c){return Promise.reject(c)}}),E.defineProperty(w.prototype,"getLogs",function(a){var b=this;return this._resolveNames(a,["address"]).then(function(a){var c={filter:u(a)};return b.perform("getLogs",c).then(function(a){return h(v)(a)})})}),E.defineProperty(w.prototype,"getEtherPrice",function(){try{return this.perform("getEtherPrice",{}).then(function(a){return a})}catch(a){return Promise.reject(a)}}),E.defineProperty(w.prototype,"_resolveNames",function(a,b){var c=[],e=d(a);return b.forEach(function(a){void 0!==e[a]&&c.push(this.resolveName(e[a]).then(function(b){e[a]=b}))},this),Promise.all(c).then(function(){return e})}),E.defineProperty(w.prototype,"_getResolver",function(a){var b=E.namehash(a),c="0x0178b8bf"+b.substring(2),d={to:this.ensAddress,data:c};return this.call(d).then(function(a){return 66!=a.length?null:E.getAddress("0x"+a.substring(26))})}),E.defineProperty(w.prototype,"resolveName",function(a){try{return Promise.resolve(E.getAddress(a))}catch(b){}if(!this.ensAddress)throw new Error("network does not have ENS deployed");var c=this,d=E.namehash(a);return this._getResolver(a).then(function(a){var b="0x3b3b57de"+d.substring(2),e={to:a,data:b};return c.call(e)}).then(function(a){if(66!=a.length)return null;var b=E.getAddress("0x"+a.substring(26));return"0x0000000000000000000000000000000000000000"===b?null:b})}),E.defineProperty(w.prototype,"lookupAddress",function(a){if(!this.ensAddress)throw new Error("network does not have ENS deployed");a=E.getAddress(a);var b=a.substring(2)+".addr.reverse",c=E.namehash(b),d=this;return this._getResolver(b).then(function(a){if(!a)return null;var b="0x691f3431"+c.substring(2),e={to:a,data:b};return d.call(e)}).then(function(b){if(b=b.substring(2),b.length<64)return null;if(b=b.substring(64),b.length<64)return null;var c=E.bigNumberify("0x"+b.substring(0,64)).toNumber();if(b=b.substring(64),2*c>b.length)return null;var e=E.toUtf8String("0x"+b.substring(0,2*c));return d.resolveName(e).then(function(b){return b!=a?null:e})})}),E.defineProperty(w.prototype,"doPoll",function(){}),E.defineProperty(w.prototype,"perform",function(a,b){return Promise.reject(new Error("not implemented - "+a))}),E.defineProperty(w.prototype,"_startPending",function(){console.log("WARNING: this provider does not support pending events")}),E.defineProperty(w.prototype,"_stopPending",function(){}),E.defineProperty(w.prototype,"on",function(a,b){var c=z(a);this._events[c]||(this._events[c]=[]),this._events[c].push({eventName:a,listener:b,type:"on"}),"pending"===c&&this._startPending(),this.polling=!0}),E.defineProperty(w.prototype,"once",function(a,b){var c=z(a);this._events[c]||(this._events[c]=[]),this._events[c].push({eventName:a,listener:b,type:"once"}),"pending"===c&&this._startPending(),this.polling=!0}),E.defineProperty(w.prototype,"emit",function(a){var b=z(a),c=Array.prototype.slice.call(arguments,1),d=this._events[b];if(d){for(var e=0;e<d.length;e++){var f=d[e];"once"===f.type&&(d.splice(e,1),e--);try{f.listener.apply(this,c)}catch(g){console.log("Event Listener Error: "+g.message)}}0===d.length&&(delete this._events[b],"pending"===b&&this._stopPending()),0===this.listenerCount()&&(this.polling=!1)}}),E.defineProperty(w.prototype,"listenerCount",function(a){if(!a){var b=0;for(var c in this._events)b+=this._events[c].length;return b}var d=this._events[z(a)];return d?d.length:0}),E.defineProperty(w.prototype,"listeners",function(a){var b=this._events[z(a)];if(!b)return 0;for(var c=[],d=0;d<b.length;d++)c.push(b[d].listener);return c}),E.defineProperty(w.prototype,"removeAllListeners",function(a){delete this._events[z(a)],0===this.listenerCount()&&(this.polling=!1)}),E.defineProperty(w.prototype,"removeListener",function(a,b){var c=this._events[z(a)];if(!c)return 0;for(var d=0;d<c.length;d++)if(c[d].listener===b)return void c.splice(d,1);0===this.listenerCount()&&(this.polling=!1)}),E.defineProperty(w,"_formatters",{checkTransactionResponse:p}),b.exports=w},{"./networks.json":12,"ethers-utils/address":16,"ethers-utils/bignumber":17,"ethers-utils/contract-address":19,"ethers-utils/convert":20,"ethers-utils/namehash":24,"ethers-utils/properties":25,"ethers-utils/rlp":26,"ethers-utils/utf8":32,inherits:13,xmlhttprequest:6}],15:[function(a,b,c){"use strict";function d(a,b){if(!(this instanceof d))throw new Error("missing new");f.defineProperty(this,"provider",a),b?(f.defineProperty(this,"address",b),f.defineProperty(this,"_syncAddress",!0)):(Object.defineProperty(this,"address",{enumerable:!0,get:function(){throw new Error("unsupported sync operation; use getAddress")}}),f.defineProperty(this,"_syncAddress",!1))}function e(a,b){if(!(this instanceof e))throw new Error("missing new");var c=a.host||a.path||"unknown";if(null==b)b=g.networks.homestead;else if("string"==typeof b&&(b=g.networks[b],!b))throw new Error("invalid network");h.call(this,c,b),f.defineProperty(this,"_web3Provider",a)}var f=a("ethers-utils"),g=a("./provider"),h=a("./json-rpc-provider");f.defineProperty(d.prototype,"getAddress",function(){return this._syncAddress?Promise.resolve(this.address):this.provider.send("eth_accounts",[]).then(function(a){if(0===a.length)throw new Error("no account");return f.getAddress(a[0])})}),f.defineProperty(d.prototype,"getBalance",function(a){var b=this.provider;return this.getAddress().then(function(c){return b.getBalance(c,a)})}),f.defineProperty(d.prototype,"getTransactionCount",function(a){var b=this.provider;return this.getAddress().then(function(c){return b.getTransactionCount(c,a)})}),f.defineProperty(d.prototype,"sendTransaction",function(a){var b=this.provider;return a=h._hexlifyTransaction(a),this.getAddress().then(function(c){return a.from=c.toLowerCase(),b.send("eth_sendTransaction",[a]).then(function(a){return new Promise(function(c,d){function e(){b.getTransaction(a).then(function(a){return a?void c(a):void setTimeout(e,1e3)})}e()})})})}),f.defineProperty(d.prototype,"signMessage",function(a){var b=this.provider,c="string"==typeof a?f.toUtf8Bytes(a):a;return this.getAddress().then(function(a){var d="eth_sign",e=[a.toLowerCase(),f.hexlify(c)];return b._web3Provider.isMetaMask&&(d="personal_sign",e=[f.hexlify(c),a.toLowerCase()]),b.send(d,e)})}),f.defineProperty(d.prototype,"unlock",function(a){var b=this.provider;return this.getAddress().then(function(c){return b.send("personal_unlockAccount",[c.toLowerCase(),a,null])})}),h.inherits(e),f.defineProperty(e.prototype,"getSigner",function(a){return new d(this,a)}),f.defineProperty(e.prototype,"listAccounts",function(){return this.send("eth_accounts",[]).then(function(a){return a.forEach(function(b,c){a[c]=f.getAddress(b)}),a})}),f.defineProperty(e.prototype,"send",function(a,b){var c=this._web3Provider;return new Promise(function(d,e){var f={method:a,params:b,id:42,jsonrpc:"2.0"};c.sendAsync(f,function(a,b){if(a)return void e(a);if(b.error){var a=new Error(b.error.message);return a.code=b.error.code,a.data=b.error.data,void e(a)}d(b.result)})})}),b.exports=e},{"./json-rpc-provider":11,"./provider":14,"ethers-utils":22}],16:[function(a,b,c){function d(a){"string"==typeof a&&a.match(/^0x[0-9A-Fa-f]{40}$/)||i("invalid address",{input:a}),a=a.toLowerCase();for(var b=a.substring(2).split(""),c=0;c<b.length;c++)b[c]=b[c].charCodeAt(0);b=h.arrayify(j(b)),a=a.substring(2).split("");for(var c=0;c<40;c+=2)b[c>>1]>>4>=8&&(a[c]=a[c].toUpperCase()),(15&b[c>>1])>=8&&(a[c+1]=a[c+1].toUpperCase());
return"0x"+a.join("")}function e(a){return Math.log10?Math.log10(a):Math.log(a)/Math.LN10}function f(a,b){var c=null;if("string"!=typeof a&&i("invalid address",{input:a}),a.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==a.substring(0,2)&&(a="0x"+a),c=d(a),a.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&c!==a&&i("invalid address checksum",{input:a,expected:c});else if(a.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(a.substring(2,4)!==l(a)&&i("invalid address icap checksum",{input:a}),c=new g(a.substring(4),36).toString(16);c.length<40;)c="0"+c;c=d("0x"+c)}else i("invalid address",{input:a});if(b){for(var e=new g(c.substring(2),16).toString(36).toUpperCase();e.length<30;)e="0"+e;return"XE"+l("XE00"+e)+e}return c}var g=a("bn.js"),h=a("./convert"),i=a("./throw-error"),j=a("./keccak256"),k=9007199254740991,l=function(){for(var a={},b=0;b<10;b++)a[String(b)]=String(b);for(var b=0;b<26;b++)a[String.fromCharCode(65+b)]=String(10+b);var c=Math.floor(e(k));return function(b){b=b.toUpperCase(),b=b.substring(4)+b.substring(0,2)+"00";for(var d=b.split(""),e=0;e<d.length;e++)d[e]=a[d[e]];for(d=d.join("");d.length>=c;){var f=d.substring(0,c);d=parseInt(f,10)%97+d.substring(f.length)}for(var g=String(98-parseInt(d,10)%97);g.length<2;)g="0"+g;return g}}();b.exports={getAddress:f}},{"./convert":20,"./keccak256":23,"./throw-error":30,"bn.js":2}],17:[function(a,b,c){function d(a){if(!(this instanceof d))throw new Error("missing new");i.isHexString(a)?("0x"==a&&(a="0x0"),a=new g(a.substring(2),16)):"string"==typeof a&&"-"===a[0]&&i.isHexString(a.substring(1))?a=new g(a.substring(3),16).mul(d.constantNegativeOne._bn):"string"==typeof a&&a.match(/^-?[0-9]*$/)?(""==a&&(a="0"),a=new g(a)):"number"==typeof a&&parseInt(a)==a?a=new g(a):g.isBN(a)||(e(a)?a=a._bn:i.isArrayish(a)?a=new g(i.hexlify(a).substring(2),16):j("invalid BigNumber value",{input:a})),h(this,"_bn",a)}function e(a){return a._bn&&a._bn.mod}function f(a){return e(a)?a:new d(a)}var g=a("bn.js"),h=a("./properties").defineProperty,i=a("./convert"),j=a("./throw-error");h(d,"constantNegativeOne",f(-1)),h(d,"constantZero",f(0)),h(d,"constantOne",f(1)),h(d,"constantTwo",f(2)),h(d,"constantWeiPerEther",f(new g("1000000000000000000"))),h(d.prototype,"fromTwos",function(a){return new d(this._bn.fromTwos(a))}),h(d.prototype,"toTwos",function(a){return new d(this._bn.toTwos(a))}),h(d.prototype,"add",function(a){return new d(this._bn.add(f(a)._bn))}),h(d.prototype,"sub",function(a){return new d(this._bn.sub(f(a)._bn))}),h(d.prototype,"div",function(a){return new d(this._bn.div(f(a)._bn))}),h(d.prototype,"mul",function(a){return new d(this._bn.mul(f(a)._bn))}),h(d.prototype,"mod",function(a){return new d(this._bn.mod(f(a)._bn))}),h(d.prototype,"pow",function(a){return new d(this._bn.pow(f(a)._bn))}),h(d.prototype,"maskn",function(a){return new d(this._bn.maskn(a))}),h(d.prototype,"eq",function(a){return this._bn.eq(f(a)._bn)}),h(d.prototype,"lt",function(a){return this._bn.lt(f(a)._bn)}),h(d.prototype,"lte",function(a){return this._bn.lte(f(a)._bn)}),h(d.prototype,"gt",function(a){return this._bn.gt(f(a)._bn)}),h(d.prototype,"gte",function(a){return this._bn.gte(f(a)._bn)}),h(d.prototype,"isZero",function(){return this._bn.isZero()}),h(d.prototype,"toNumber",function(a){return this._bn.toNumber()}),h(d.prototype,"toString",function(){return this._bn.toString(10)}),h(d.prototype,"toHexString",function(){var a=this._bn.toString(16);return a.length%2&&(a="0"+a),"0x"+a}),b.exports={isBigNumber:e,bigNumberify:f,BigNumber:d}},{"./convert":20,"./properties":25,"./throw-error":30,"bn.js":2}],18:[function(a,b,c){(function(c){"use strict";function d(a){if(a<=0||a>1024||parseInt(a)!=a)throw new Error("invalid length");var b=new Uint8Array(a);return g.getRandomValues(b),e.arrayify(b)}var e=a("./convert"),f=a("./properties").defineProperty,g=c.crypto||c.msCrypto;g&&g.getRandomValues||(console.log("WARNING: Missing strong random number source; using weak randomBytes"),g={getRandomValues:function(a){for(var b=0;b<20;b++)for(var c=0;c<a.length;c++)b?a[c]^=parseInt(256*Math.random()):a[c]=parseInt(256*Math.random());return a},_weakCrypto:!0}),g._weakCrypto===!0&&f(d,"_weakCrypto",!0),b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./convert":20,"./properties":25}],19:[function(a,b,c){function d(a){if(!a.from)throw new Error("missing from address");var b=a.nonce;return e("0x"+g(h.encode([e(a.from),f.stripZeros(f.hexlify(b,"nonce"))])).substring(26))}var e=a("./address").getAddress,f=a("./convert"),g=a("./keccak256"),h=a("./rlp");b.exports={getContractAddress:d}},{"./address":16,"./convert":20,"./keccak256":23,"./rlp":26}],20:[function(a,b,c){function d(a){return a.slice?a:(a.slice=function(){var b=Array.prototype.slice.call(arguments);return new Uint8Array(Array.prototype.slice.apply(a,b))},a)}function e(a){if(!a||parseInt(a.length)!=a.length||"string"==typeof a)return!1;for(var b=0;b<a.length;b++){var c=a[b];if(c<0||c>=256||parseInt(c)!=c)return!1}return!0}function f(a,b){if(a&&a.toHexString&&(a=a.toHexString()),j(a)){a=a.substring(2),a.length%2&&(a="0"+a);for(var c=[],f=0;f<a.length;f+=2)c.push(parseInt(a.substr(f,2),16));return d(new Uint8Array(c))}return e(a)?d(new Uint8Array(a)):void l("invalid arrayify value",{name:b,input:a})}function g(a){for(var b=[],c=0,e=0;e<a.length;e++){var g=f(a[e]);b.push(g),c+=g.length}for(var h=new Uint8Array(c),i=0,e=0;e<b.length;e++)h.set(b[e],i),i+=b[e].length;return d(h)}function h(a){if(a=f(a),0===a.length)return a;for(var b=0;0===a[b];)b++;return b&&(a=a.slice(b)),a}function i(a,b){if(a=f(a),b<a.length)throw new Error("cannot pad");var c=new Uint8Array(b);return c.set(a,b-a.length),d(c)}function j(a,b){return!("string"!=typeof a||!a.match(/^0x[0-9A-Fa-f]*$/))&&(!b||a.length===2+2*b)}function k(a,b){if(a&&a.toHexString)return a.toHexString();if("number"==typeof a){a<0&&l("cannot hexlify negative value",{name:b,input:a});for(var c="";a;)c=m[15&a]+c,a=parseInt(a/16);return c.length?(c.length%2&&(c="0"+c),"0x"+c):"0x00"}if(j(a))return a.length%2&&(a="0x0"+a.substring(2)),a;if(e(a)){for(var d=[],f=0;f<a.length;f++){var g=a[f];d.push(m[(240&g)>>4]+m[15&g])}return"0x"+d.join("")}l("invalid hexlify value",{name:b,input:a})}var l=(a("./properties.js").defineProperty,a("./throw-error")),m="0123456789abcdef";b.exports={arrayify:f,isArrayish:e,concat:g,padZeros:i,stripZeros:h,hexlify:k,isHexString:j}},{"./properties.js":25,"./throw-error":30}],21:[function(a,b,c){"use strict";function d(a){return e(f.toUtf8Bytes(a))}var e=a("./keccak256"),f=a("./utf8");b.exports=d},{"./keccak256":23,"./utf8":32}],22:[function(a,b,c){"use strict";var d=a("./address"),e=a("./bignumber"),f=a("./contract-address"),g=a("./convert"),h=a("./id"),i=a("./keccak256"),j=a("./namehash"),k=a("./sha2").sha256,l=a("./solidity"),m=a("./random-bytes"),n=a("./properties"),o=a("./rlp"),p=a("./utf8"),q=a("./units");b.exports={RLP:o,defineProperty:n.defineProperty,etherSymbol:"Ξ",arrayify:g.arrayify,concat:g.concat,padZeros:g.padZeros,stripZeros:g.stripZeros,bigNumberify:e.bigNumberify,BigNumber:e.BigNumber,hexlify:g.hexlify,toUtf8Bytes:p.toUtf8Bytes,toUtf8String:p.toUtf8String,namehash:j,id:h,getAddress:d.getAddress,getContractAddress:f.getContractAddress,formatEther:q.formatEther,parseEther:q.parseEther,formatUnits:q.formatUnits,parseUnits:q.parseUnits,keccak256:i,sha256:k,randomBytes:m,solidityPack:l.pack,solidityKeccak256:l.keccak256,soliditySha256:l.sha256},a("./standalone")({utils:b.exports})},{"./address":16,"./bignumber":17,"./contract-address":19,"./convert":20,"./id":21,"./keccak256":23,"./namehash":24,"./properties":25,"./random-bytes":18,"./rlp":26,"./sha2":27,"./solidity":28,"./standalone":29,"./units":31,"./utf8":32}],23:[function(a,b,c){"use strict";function d(a){return a=f.arrayify(a),"0x"+e.keccak_256(a)}var e=a("js-sha3"),f=a("./convert.js");b.exports=d},{"./convert.js":20,"js-sha3":48}],24:[function(a,b,c){"use strict";function d(a,b){if(a=a.toLowerCase(),!a.match(j))throw new Error("contains invalid UseSTD3ASCIIRules characters");for(var c=h,d=0;a.length&&(!b||d<b);){var k=a.match(i),l=f.toUtf8Bytes(k[3]);c=g(e.concat([c,g(l)])),a=k[2]||"",d++}return e.hexlify(c)}var e=a("./convert"),f=a("./utf8"),g=a("./keccak256"),h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=new RegExp("^((.*)\\.)?([^.]+)$"),j=new RegExp("^[a-z0-9.-]*$");b.exports=d},{"./convert":20,"./keccak256":23,"./utf8":32}],25:[function(a,b,c){"use strict";function d(a,b,c){Object.defineProperty(a,b,{enumerable:!0,value:c,writable:!1})}b.exports={defineProperty:d}},{}],26:[function(a,b,c){function d(a){for(var b=[];a;)b.unshift(255&a),a>>=8;return b}function e(a,b,c){for(var d=0,e=0;e<c;e++)d=256*d+a[b+e];return d}function f(a){if(Array.isArray(a)){var b=[];if(a.forEach(function(a){b=b.concat(f(a))}),b.length<=55)return b.unshift(192+b.length),b;var c=d(b.length);return c.unshift(247+c.length),c.concat(b)}if(a=[].slice.call(k.arrayify(a)),1===a.length&&a[0]<=127)return a;if(a.length<=55)return a.unshift(128+a.length),a;var c=d(a.length);return c.unshift(183+c.length),c.concat(a)}function g(a){return k.hexlify(f(a))}function h(a,b,c,d){for(var e=[];c<b+1+d;){var f=i(a,c);if(e.push(f.result),c+=f.consumed,c>b+1+d)throw new Error("invalid rlp")}return{consumed:1+d,result:e}}function i(a,b){if(0===a.length)throw new Error("invalid rlp data");if(a[b]>=248){var c=a[b]-247;if(b+1+c>a.length)throw new Error("too short");var d=e(a,b+1,c);if(b+1+c+d>a.length)throw new Error("to short");return h(a,b,b+1+c,c+d)}if(a[b]>=192){var d=a[b]-192;if(b+1+d>a.length)throw new Error("invalid rlp data");return h(a,b,b+1,d)}if(a[b]>=184){var c=a[b]-183;if(b+1+c>a.length)throw new Error("invalid rlp data");var d=e(a,b+1,c);if(b+1+c+d>a.length)throw new Error("invalid rlp data");var f=k.hexlify(a.slice(b+1+c,b+1+c+d));return{consumed:1+c+d,result:f}}if(a[b]>=128){var d=a[b]-128;if(b+1+d>a.offset)throw new Error("invlaid rlp data");var f=k.hexlify(a.slice(b+1,b+1+d));return{consumed:1+d,result:f}}return{consumed:1,result:k.hexlify(a[b])}}function j(a){a=k.arrayify(a);var b=i(a,0);if(b.consumed!==a.length)throw new Error("invalid rlp data");return b.result}var k=a("./convert.js");b.exports={encode:g,decode:j}},{"./convert.js":20}],27:[function(a,b,c){"use strict";function d(a){return a=g.arrayify(a),"0x"+f.sha256().update(a).digest("hex")}function e(a){return a=g.arrayify(a),"0x"+f.sha512().update(a).digest("hex")}var f=a("hash.js"),g=a("./convert.js");b.exports={sha256:d,sha512:e,createSha256:f.sha256,createSha512:f.sha512}},{"./convert.js":20,"hash.js":35}],28:[function(a,b,c){"use strict";function d(a,b,c){switch(a){case"address":return c?i.padZeros(b,32):i.arrayify(b);case"string":return j.toUtf8Bytes(b);case"bytes":return i.arrayify(b);case"bool":return b=b?"0x01":"0x00",c?i.padZeros(b,32):i.arrayify(b)}var e=a.match(n);if(e){var f=("int"===e[1],parseInt(e[2]||"256"));if(f%8!=0||0===f||f>256)throw new Error("invalid number type - "+a);return c&&(f=256),b=h(b).toTwos(f),i.padZeros(b,f/8)}if(e=a.match(m)){var f=e[1];if(f!=parseInt(f)||0===f||f>32)throw new Error("invalid number type - "+a);if(f=parseInt(f),i.arrayify(b).byteLength!==f)throw new Error("invalid value for "+a);return c?(b+p).substring(0,66):b}if(e=a.match(o)){var g=e[1],k=parseInt(e[2]||b.length);if(k!=b.length)throw new Error("invalid value for "+a);var l=[];return b.forEach(function(a){a=d(g,a,!0),l.push(a)}),i.concat(l)}throw new Error("unknown type - "+a)}function e(a,b){if(a.length!=b.length)throw new Error("type/value count mismatch");var c=[];return a.forEach(function(a,e){c.push(d(a,b[e]))}),i.hexlify(i.concat(c))}function f(a,b){return k(e(a,b))}function g(a,b){return l(e(a,b))}var h=a("./bignumber").bigNumberify,i=a("./convert"),j=(a("./address").getAddress,a("./utf8")),k=a("./keccak256"),l=a("./sha2").sha256,m=new RegExp("^bytes([0-9]+)$"),n=new RegExp("^(u?int)([0-9]*)$"),o=new RegExp("^(.*)\\[([0-9]*)\\]$"),p="0000000000000000000000000000000000000000000000000000000000000000";b.exports={pack:e,keccak256:f,sha256:g}},{"./address":16,"./bignumber":17,"./convert":20,"./keccak256":23,"./sha2":27,"./utf8":32}],29:[function(a,b,c){(function(c){function d(a){return}a("./properties.js").defineProperty;b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./properties.js":25}],30:[function(a,b,c){"use strict";function d(a,b){var c=new Error(a);for(var d in b)c[d]=b[d];throw c}b.exports=d},{}],31:[function(a,b,c){function d(a,b,c){"object"!=typeof b||c||(c=b,b=void 0),null==b&&(b=18);var d=m(b);a=h(a),c||(c={});var e=a.lt(j);e&&(a=a.mul(k));for(var f=a.mod(d.tenPower).toString(10);f.length<d.decimals;)f="0"+f;c.pad||(f=f.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var g=a.div(d.tenPower).toString(10);c.commify&&(g=g.replace(/\B(?=(\d{3})+(?!\d))/g,","));var a=g+"."+f;return e&&(a="-"+a),a}function e(a,b){var c=m(b||18);c||i("invalid unitType",{unitType:b}),"string"==typeof a&&a.match(/^-?[0-9.,]+$/)||i("invalid value",{input:a});var a=a.replace(/,/g,""),d="-"===a.substring(0,1);d&&(a=a.substring(1)),"."===a&&i("invalid value",{input:a});var e=a.split(".");e.length>2&&i("too many decimal points",{input:a});var f=e[0],g=e[1];for(f||(f="0"),g||(g="0"),g.length>c.decimals&&i("too many decimal places",{input:a,decimals:g.length});g.length<c.decimals;)g+="0";f=h(f),g=h(g);var j=f.mul(c.tenPower).add(g);return d&&(j=j.mul(k)),j}function f(a,b){return d(a,18,b)}function g(a){return e(a,18)}var h=a("./bignumber.js").bigNumberify,i=a("./throw-error"),j=new h(0),k=new h((-1)),l=["wei","kwei","Mwei","Gwei","szabo","finny","ether"],m=function(){var a={},b="1";return l.forEach(function(c){var d={decimals:b.length-1,tenPower:h(b),name:c};a[c.toLowerCase()]=d,a[String(d.decimals)]=d,b+="000"}),function(b){return a[String(b).toLowerCase()]}}();b.exports={formatEther:f,parseEther:g,formatUnits:d,parseUnits:e}},{"./bignumber.js":17,"./throw-error":30}],32:[function(a,b,c){function d(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);e<128?b[c++]=e:e<2048?(b[c++]=e>>6|192,b[c++]=63&e|128):55296==(64512&e)&&d+1<a.length&&56320==(64512&a.charCodeAt(d+1))?(e=65536+((1023&e)<<10)+(1023&a.charCodeAt(++d)),b[c++]=e>>18|240,b[c++]=e>>12&63|128,b[c++]=e>>6&63|128,b[c++]=63&e|128):(b[c++]=e>>12|224,b[c++]=e>>6&63|128,b[c++]=63&e|128)}return f.arrayify(b)}function e(a){a=f.arrayify(a);for(var b="",c=0;c<a.length;){var d=a[c++];if(d>>7!=0){if(d>>6!=2){var e=null;if(d>>5==6)e=1;else if(d>>4==14)e=2;else if(d>>3==30)e=3;else if(d>>2==62)e=4;else{if(d>>1!=126)continue;e=5}if(c+e>a.length){for(;c<a.length&&a[c]>>6==2;c++);if(c!=a.length)continue;return b}var g,h=d&(1<<8-e-1)-1;for(g=0;g<e;g++){var i=a[c++];if(i>>6!=2)break;h=h<<6|63&i}g==e?h<=65535?b+=String.fromCharCode(h):(h-=65536,b+=String.fromCharCode((h>>10&1023)+55296,(1023&h)+56320)):c--}}else b+=String.fromCharCode(d)}return b}var f=a("./convert.js");b.exports={toUtf8Bytes:d,toUtf8String:e}},{"./convert.js":20}],33:[function(a,b,c){"use strict";function d(a){for(a=n.hexlify(a);a.length>3&&"0x0"===a.substring(0,3);)a="0x"+a.substring(3);return a}function e(a){var b={};return["data","from","gasPrice","to","value"].forEach(function(c){null!=a[c]&&(b[c]=a[c])}),null!=a.gas&&(b.gasLimit=a.gas),b}function f(a,b,c,e){c.forEach(function(c){var f=a[c];if(null==f){if(!e)return;f=null}else f=d(f);b[c]=f})}function g(a,b,c,d){c.forEach(function(c){var e=a[c];if(null==e){if(!d)return;e=null}b[c]=e})}function h(a){var b={};return f(a,b,["difficulty","gasLimit","gasUsed","number","timestamp"]),g(a,b,["extraData","miner","parentHash"]),f(a,b,["number"],!0),g(a,b,["hash","nonce"],!0),b}function i(a){var b={};return a.gasLimit&&(b.gas=d(a.gasLimit)),b.input=a.data||"0x",f(a,b,["blockNumber","gasPrice","nonce","transactionIndex","value"],!0),g(a,b,["blockHash","from","hash","to"],!0),b}function j(a){var b={logs:[]};return f(a,b,["blockNumber","cumulativeGasUsed","gasPrice","gasUsed","transactionIndex"],!0),g(a,b,["blockHash","contractAddress","from","logsBloom","transactionHash","root","to"],!0),(a.logs||[]).forEach(function(c){var c={};b.logs.push(c),null!=a.removed&&(c.removed=a.removed),null!=a.topics&&(c.topics=a.topics),f(a,c,["blockNumber","logIndex","transactionIndex"],!0),g(a,c,["address","blockHash","data","transactionHash"],!0)}),b}function k(a){var b={};return["blockNumber","logIndex","transactionIndex"].forEach(function(c){null!=a[c]&&(b[c]=d(a[c]))}),["address","blockHash","data","topics","transactionHash"].forEach(function(c){null!=a[c]&&(b[c]=a[c])}),a}function l(){n.defineProperty(this,"filters",{});var a=1;n.defineProperty(this,"_getFilterId",function(){return a++})}function m(a,b){if(!(this instanceof m))throw new Error("missing new");this._provider=a||null,this._signer=b||null;setInterval(function(){return this._signer?void this._signer.getAddress().then(function(a){this._address=a},function(a){this._address=null}):void(this._address=null)},1e3),this._queue=[],n.defineProperty(this,"isMetaMask",!0),n.defineProperty(this,"isEthers",!0),n.defineProperty(this,"isConnected",!0),n.defineProperty(this,"ethersVersion",p),n.defineProperty(this,"client","ethers/"+p),n.defineProperty(this,"filterManager",new l)}var n=(a("ethers-providers"),a("ethers-utils")),o={InternalError:-32603,InvalidRequest:-32600,ParseError:-32700,MethodNotFound:-32601,InvalidParams:-32602};l.prototype.addFilter=function(a,b){function c(b){f=f.then(function(c){return new Promise(function(d,e){function f(){provider.getBlock(b).then(function(b){a(b,c).then(function(a){d(a)})},function(a){setTimeout(f,1e3)})}f()})})}b||(b=function(){return Promise.resolve([])});var e=this._getFilterId(),f=Promise.resolve([]);return this.filters[d(e)]={getChanges:function(){var a=f;return f=Promise.resolve([]),a},getLogs:b,lastPoll:now(),uninstall:function(){provider.removeListener("block",c),f=null}},provider.on("block",c),d(e)},l.prototype.removeFilter=function(a){var b=this.filters[d(a)];return!!b&&(b.uninstall(),!0)},l.prototype.getChanges=function(a){var b=this.filters[d(a)];return b||Promise.resolve([]),b.getChanges()},l.prototype.getLogs=function(a){var b=this.filters[d(a)];return b?b.getLogs():Promise.resolve([])};var p=a("./package.json").version;n.defineProperty(m.prototype,"_drainQueue",function(){var a=this;this._queue.forEach(function(b){setTimeout(function(){a._sendAsync(JSON.parse(b.payload),b.callback)},0)})}),n.defineProperty(m.prototype,"connectWeb3",function(a){this._web3=a,this._drainQueue()}),n.defineProperty(m.prototype,"connectEthers",function(a,b){if(!b){var c=function(){return Promise.reject("no signer connected")};b={getAddress:c,sendTransaction:c,signMessage:c}}this._provider=a,this._signer=b,this._drainQueue()}),n.defineProperty(m.prototype,"sendAsync",function(a,b){return this._provider||this._web3?void this._sendAsync(a,b):void this._queue.push({payload:JSON.stringify(a),callback:b})}),n.defineProperty(m.prototype,"_sendAsync",function(a,b){function c(c,d){d||(d=o.InternalError),b(null,{id:a.id,jsonrpc:"2.0",error:{code:d,message:c}})}function f(c){b(null,{id:a.id,jsonrpc:"2.0",result:c})}if(this._web3)return void this._web3.sendAsync(a,b);var g=this;if(Array.isArray(a)){var l=[];return a.forEach(function(a){l.push(new Promise(function(b,c){g.sendAsync(a,function(a,c){b(a||c)})}))}),void Promise.all(l).then(function(a){b(null,a)})}if(null==a||"string"!=typeof a.method||"number"!=typeof a.id||!Array.isArray(a.params))return void c("invalid sendAsync parameters",o.InvalidRequest);var m=this._signer,p=this._provider,q=a.params;switch(a.method){case"eth_accounts":m.getAddress().then(function(a){f([a.toLowerCase()])},function(a){f([])});break;case"eth_sign":q=[q[1],q[0]];case"personal_sign":m.getAddress().then(function(a){return n.getAddress(q[1])!==a?void c("invalid from address",o.InvalidParams):void m.signMessage(q[0]).then(function(a){f(a)},function(a){c("eth_sign error",o.InternalError)})},function(a){c("no account",o.InvalidParams)});break;case"eth_sendTransaction":m.getAddress().then(function(a){return n.getAddress(q[0].from)!==a&&c("invalid from address",o.InvalidParams),m.sendTransaction(q[0])},function(a){c("eth_sendTransaction error",o.InternalError)});break;case"eth_coinbase":case"eth_getCompilers":case"eth_hashrate":case"eth_mining":case"eth_syncing":case"net_listening":case"net_peerCount":case"net_version":case"eth_protocolVersion":setTimeout(function(){f(g.send(a).result)},0);break;case"eth_blockNumber":p.getBlockNumber().then(function(a){f(d(a))});break;case"eth_gasPrice":p.getGasPrice().then(function(a){f(d(a))});break;case"eth_getBalance":p.getBalance(q[0],q[1]).then(function(a){f(d(a))});break;case"eth_getCode":p.getCode(q[0],q[1]).then(function(a){f(a)});break;case"eth_getTransactionCount":p.getTransactionCount(q[0],q[1]).then(function(a){f(d(a))});break;case"eth_call":p.call(e(q[0]),q[1]).then(function(a){f(a)});break;case"eth_estimateGas":p.estimateGas(e(q[0]),q[1]).then(function(a){f(a)});break;case"eth_getStorageAt":p.getStorageAt(q[0],q[1],q[2]).then(function(a){f(a)});break;case"eth_getBlockByHash":case"eth_getBlockByNumber":p.getBlock(q[0]).then(function(a){var b=h(a);if(q[1]){b.transactions=[];var c=Promise.resolve();a.transactions&&a.transactions.forEach(function(a){return p.getTransaction(a).then(function(a){b.transactions.push(a)})}),c.then(function(){f(b)})}else a.transactions&&(b.transactions=a.transactions),f(b)});break;case"eth_getBlockTransactionCountByHash":case"eth_getBlockTransactionCountByNumber":p.getBlock(q[0]).then(function(a){f(d(a.transactions?a.transactions.length:0))});break;case"eth_getTransactionByHash":p.getTransaction(q[0]).then(function(a){null!=a&&(a=i(a)),f(a)});break;case"eth_getTransactionByBlockHashAndIndex":case"eth_getTransactionByBlockNumberAndIndex":p.getBlock(q[0]).then(function(a){null==a&&(a={}),null==a.transactions&&(a.transactions=[]);var b=a.transactions[q[1]];b?p.getTransaction(b).then(function(a){null!=a&&(a=i(a)),f(a)}):f(null)});break;case"eth_getTransactionReceipt":p.getTransactionReceipt(q[0]).then(function(a){null!=a&&(a=j(a)),f(a)});break;case"eth_sendRawTransaction":p.sendTransaction(q[0]).then(function(a){f(a)});break;case"eth_getUncleByBlockHashAndIndex":case"eth_getUncleByBlockNumberAndIndex":case"eth_getUncleCountByBlockHash":case"eth_getUncleCountByBlockNumber":c("unsupported method",{method:a.method});break;case"eth_newFilter":!function(a){f(g.filterManager.addFilter(function(b,c){var d={fromBlock:b.number,toBlock:b.number};return a.address&&(d.address=a.address),a.topics&&(d.topics=a.topics),p.getLogs(d).then(function(a){return a.forEach(function(a){a.blockHash=b.hash,c.push(k(a))}),c})},function(){return p.getLogs(a).then(function(a){var b=Promise.resolve(a);return a.forEach(function(c){b=b.then(function(){return p.getBlock(c.blockNumber).then(function(b){return c.blockHash=b.hash,a})})}),b})}))}(q[0]);break;case"eth_newPendingTransactionFilter":f(this.filterManager.addFilter(function(a,b){return(a.transactions||[]).forEach(function(a){b.push(a)}),b.push(a.hash),Promise.resolve(b)}));break;case"eth_newBlockFilter":f(this.filterManager.addFilter(function(a,b){return b.push(a.hash),Promise.resolve(b)}));break;case"eth_uninstallFilter":f(this.filterManager.removeFilter(q[0]));break;case"eth_getFilterChanges":this.filterManager.getChanges(q[0]).then(function(a){f(a)});break;case"eth_getFilterLogs":this.filterManager.getLogs(q[0]).then(function(a){f(a)});break;default:c("unknown method",o.MethodNotFound)}}),n.defineProperty(m.prototype,"send",function(a){if(this._web3)return this._web3.send(a);var b=this._provider,c=null;switch(a.method){case"eth_accounts":c=this._address?[this._address.toLowerCase()]:[];break;case"eth_coinbase":c=null;break;case"eth_getCompilers":c=[];break;case"eth_hashrate":case"net_peerCount":c="0x0";break;case"eth_mining":case"eth_syncing":case"net_listening":c=!1;break;case"net_version":c=String(b.chainId);break;case"eth_protocolVersion":c="63";break;default:throw new Error("sync unsupported")}return{id:a.id,jsonrpc:"2.0",result:c}}),b.exports=m},{"./package.json":34,"ethers-providers":9,"ethers-utils":22}],34:[function(a,b,c){b.exports={_from:"ethers-web3-bridge@0.0.1",_id:"ethers-web3-bridge@0.0.1",_inBundle:!1,_integrity:"sha512-dnLJxFtO1BmgkmPM2v7JqiUuvcYapiKLXJKq2QcAREyKDnIUAsFeh/Hb80cn9ABJNFK9EYToqee/Ry0c1s7w/Q==",_location:"/ethers-web3-bridge",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"ethers-web3-bridge@0.0.1",name:"ethers-web3-bridge",escapedName:"ethers-web3-bridge",rawSpec:"0.0.1",saveSpec:null,fetchSpec:"0.0.1"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/ethers-web3-bridge/-/ethers-web3-bridge-0.0.1.tgz",_shasum:"bdd5792ecad08609abecd8055acc085cdf388588",_spec:"ethers-web3-bridge@0.0.1",_where:"/Users/ricmoo/Development/ethers/ethers.io-2/ethers-app",author:{name:"Richard Moore",email:"me@ricmoo.com"},bundleDependencies:!1,dependencies:{"ethers-providers":"^2.1.19","ethers-utils":"^2.1.11"},deprecated:!1,description:"Enables Web3 instances to connect using an ethers.js Provider.",keywords:["ethereum","web3","ethers","dapp"],license:"MIT",main:"index.js",name:"ethers-web3-bridge",scripts:{test:'echo "Error: no test specified" && exit 1'},version:"0.0.1"}},{}],35:[function(a,b,c){var d=c;d.utils=a("./hash/utils"),d.common=a("./hash/common"),d.sha=a("./hash/sha"),d.ripemd=a("./hash/ripemd"),d.hmac=a("./hash/hmac"),d.sha1=d.sha.sha1,d.sha256=d.sha.sha256,d.sha224=d.sha.sha224,d.sha384=d.sha.sha384,d.sha512=d.sha.sha512,d.ripemd160=d.ripemd.ripemd160},{"./hash/common":36,"./hash/hmac":37,"./hash/ripemd":38,"./hash/sha":39,"./hash/utils":46}],36:[function(a,b,c){"use strict";function d(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var e=a("./utils"),f=a("minimalistic-assert");c.BlockHash=d,d.prototype.update=function(a,b){if(a=e.toArray(a,b),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var c=a.length%this._delta8;this.pending=a.slice(a.length-c,a.length),0===this.pending.length&&(this.pending=null),a=e.join32(a,0,a.length-c,this.endian);for(var d=0;d<a.length;d+=this._delta32)this._update(a,d,d+this._delta32)}return this},d.prototype.digest=function(a){return this.update(this._pad()),f(null===this.pending),this._digest(a)},d.prototype._pad=function(){var a=this.pendingTotal,b=this._delta8,c=b-(a+this.padLength)%b,d=new Array(c+this.padLength);d[0]=128;for(var e=1;e<c;e++)d[e]=0;if(a<<=3,"big"===this.endian){for(var f=8;f<this.padLength;f++)d[e++]=0;d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=a>>>24&255,d[e++]=a>>>16&255,d[e++]=a>>>8&255,d[e++]=255&a}else for(d[e++]=255&a,d[e++]=a>>>8&255,d[e++]=a>>>16&255,d[e++]=a>>>24&255,d[e++]=0,d[e++]=0,d[e++]=0,d[e++]=0,f=8;f<this.padLength;f++)d[e++]=0;return d}},{"./utils":46,"minimalistic-assert":49}],37:[function(a,b,c){b.exports={}},{}],38:[function(a,b,c){b.exports={ripemd160:null}},{}],39:[function(a,b,c){"use strict";c.sha1=a("./sha/1"),c.sha224=a("./sha/224"),c.sha256=a("./sha/256"),c.sha384=a("./sha/384"),c.sha512=a("./sha/512")},{"./sha/1":40,"./sha/224":41,"./sha/256":42,"./sha/384":43,"./sha/512":44}],40:[function(a,b,c){arguments[4][37][0].apply(c,arguments)},{dup:37}],41:[function(a,b,c){arguments[4][37][0].apply(c,arguments)},{dup:37}],42:[function(a,b,c){"use strict";function d(){return this instanceof d?(r.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=s,void(this.W=new Array(64))):new d}var e=a("../utils"),f=a("../common"),g=a("./common"),h=a("minimalistic-assert"),i=e.sum32,j=e.sum32_4,k=e.sum32_5,l=g.ch32,m=g.maj32,n=g.s0_256,o=g.s1_256,p=g.g0_256,q=g.g1_256,r=f.BlockHash,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];e.inherits(d,r),b.exports=d,d.blockSize=512,d.outSize=256,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(a,b){for(var c=this.W,d=0;d<16;d++)c[d]=a[b+d];for(;d<c.length;d++)c[d]=j(q(c[d-2]),c[d-7],p(c[d-15]),c[d-16]);var e=this.h[0],f=this.h[1],g=this.h[2],r=this.h[3],s=this.h[4],t=this.h[5],u=this.h[6],v=this.h[7];for(h(this.k.length===c.length),d=0;d<c.length;d++){var w=k(v,o(s),l(s,t,u),this.k[d],c[d]),x=i(n(e),m(e,f,g));v=u,u=t,t=s,s=i(r,w),r=g,g=f,f=e,e=i(w,x)}this.h[0]=i(this.h[0],e),this.h[1]=i(this.h[1],f),this.h[2]=i(this.h[2],g),this.h[3]=i(this.h[3],r),this.h[4]=i(this.h[4],s),this.h[5]=i(this.h[5],t),this.h[6]=i(this.h[6],u),this.h[7]=i(this.h[7],v)},d.prototype._digest=function(a){return"hex"===a?e.toHex32(this.h,"big"):e.split32(this.h,"big")}},{"../common":36,"../utils":46,"./common":45,"minimalistic-assert":49}],43:[function(a,b,c){arguments[4][37][0].apply(c,arguments)},{dup:37}],44:[function(a,b,c){arguments[4][37][0].apply(c,arguments)},{dup:37}],45:[function(a,b,c){"use strict";function d(a,b,c,d){return 0===a?e(b,c,d):1===a||3===a?g(b,c,d):2===a?f(b,c,d):void 0}function e(a,b,c){return a&b^~a&c}function f(a,b,c){return a&b^a&c^b&c}function g(a,b,c){return a^b^c}function h(a){return m(a,2)^m(a,13)^m(a,22)}function i(a){return m(a,6)^m(a,11)^m(a,25)}function j(a){return m(a,7)^m(a,18)^a>>>3}function k(a){return m(a,17)^m(a,19)^a>>>10}var l=a("../utils"),m=l.rotr32;c.ft_1=d,c.ch32=e,c.maj32=f,c.p32=g,c.s0_256=h,c.s1_256=i,c.g0_256=j,c.g1_256=k},{"../utils":46}],46:[function(a,b,c){"use strict";function d(a,b){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if("string"==typeof a)if(b){if("hex"===b)for(a=a.replace(/[^a-z0-9]+/gi,""),a.length%2!==0&&(a="0"+a),d=0;d<a.length;d+=2)c.push(parseInt(a[d]+a[d+1],16))}else for(var d=0;d<a.length;d++){var e=a.charCodeAt(d),f=e>>8,g=255&e;f?c.push(f,g):c.push(g)}else for(d=0;d<a.length;d++)c[d]=0|a[d];return c}function e(a){for(var b="",c=0;c<a.length;c++)b+=h(a[c].toString(16));return b}function f(a){var b=a>>>24|a>>>8&65280|a<<8&16711680|(255&a)<<24;return b>>>0}function g(a,b){for(var c="",d=0;d<a.length;d++){var e=a[d];"little"===b&&(e=f(e)),c+=i(e.toString(16))}return c}function h(a){return 1===a.length?"0"+a:a}function i(a){return 7===a.length?"0"+a:6===a.length?"00"+a:5===a.length?"000"+a:4===a.length?"0000"+a:3===a.length?"00000"+a:2===a.length?"000000"+a:1===a.length?"0000000"+a:a}function j(a,b,c,d){var e=c-b;C(e%4===0);for(var f=new Array(e/4),g=0,h=b;g<f.length;g++,h+=4){var i;i="big"===d?a[h]<<24|a[h+1]<<16|a[h+2]<<8|a[h+3]:a[h+3]<<24|a[h+2]<<16|a[h+1]<<8|a[h],f[g]=i>>>0}return f}function k(a,b){for(var c=new Array(4*a.length),d=0,e=0;d<a.length;d++,e+=4){var f=a[d];"big"===b?(c[e]=f>>>24,c[e+1]=f>>>16&255,c[e+2]=f>>>8&255,c[e+3]=255&f):(c[e+3]=f>>>24,c[e+2]=f>>>16&255,c[e+1]=f>>>8&255,c[e]=255&f)}return c}function l(a,b){return a>>>b|a<<32-b}function m(a,b){return a<<b|a>>>32-b}function n(a,b){return a+b>>>0}function o(a,b,c){return a+b+c>>>0}function p(a,b,c,d){return a+b+c+d>>>0}function q(a,b,c,d,e){return a+b+c+d+e>>>0}function r(a,b,c,d){var e=a[b],f=a[b+1],g=d+f>>>0,h=(g<d?1:0)+c+e;a[b]=h>>>0,a[b+1]=g}function s(a,b,c,d){var e=b+d>>>0,f=(e<b?1:0)+a+c;return f>>>0}function t(a,b,c,d){var e=b+d;return e>>>0}function u(a,b,c,d,e,f,g,h){var i=0,j=b;j=j+d>>>0,i+=j<b?1:0,
j=j+f>>>0,i+=j<f?1:0,j=j+h>>>0,i+=j<h?1:0;var k=a+c+e+g+i;return k>>>0}function v(a,b,c,d,e,f,g,h){var i=b+d+f+h;return i>>>0}function w(a,b,c,d,e,f,g,h,i,j){var k=0,l=b;l=l+d>>>0,k+=l<b?1:0,l=l+f>>>0,k+=l<f?1:0,l=l+h>>>0,k+=l<h?1:0,l=l+j>>>0,k+=l<j?1:0;var m=a+c+e+g+i+k;return m>>>0}function x(a,b,c,d,e,f,g,h,i,j){var k=b+d+f+h+j;return k>>>0}function y(a,b,c){var d=b<<32-c|a>>>c;return d>>>0}function z(a,b,c){var d=a<<32-c|b>>>c;return d>>>0}function A(a,b,c){return a>>>c}function B(a,b,c){var d=a<<32-c|b>>>c;return d>>>0}var C=a("minimalistic-assert"),D=a("inherits");c.inherits=D,c.toArray=d,c.toHex=e,c.htonl=f,c.toHex32=g,c.zero2=h,c.zero8=i,c.join32=j,c.split32=k,c.rotr32=l,c.rotl32=m,c.sum32=n,c.sum32_3=o,c.sum32_4=p,c.sum32_5=q,c.sum64=r,c.sum64_hi=s,c.sum64_lo=t,c.sum64_4_hi=u,c.sum64_4_lo=v,c.sum64_5_hi=w,c.sum64_5_lo=x,c.rotr64_hi=y,c.rotr64_lo=z,c.shr64_hi=A,c.shr64_lo=B},{inherits:47,"minimalistic-assert":49}],47:[function(a,b,c){arguments[4][13][0].apply(c,arguments)},{dup:13}],48:[function(a,b,c){(function(a,c){!function(){"use strict";function d(a,b,c){this.blocks=[],this.s=[],this.padding=b,this.outputBits=c,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(a<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=c>>5,this.extraBytes=(31&c)>>3;for(var d=0;d<50;++d)this.s[d]=0}var e="object"==typeof window?window:{},f=!e.JS_SHA3_NO_NODE_JS&&"object"==typeof a&&a.versions&&a.versions.node;f&&(e=c);for(var g=!e.JS_SHA3_NO_COMMON_JS&&"object"==typeof b&&b.exports,h="0123456789abcdef".split(""),i=[31,7936,2031616,520093696],j=[1,256,65536,16777216],k=[6,1536,393216,100663296],l=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],n=[224,256,384,512],o=[128,256],p=["hex","buffer","arrayBuffer","array"],q=function(a,b,c){return function(e){return new d(a,b,a).update(e)[c]()}},r=function(a,b,c){return function(e,f){return new d(a,b,f).update(e)[c]()}},s=function(a,b){var c=q(a,b,"hex");c.create=function(){return new d(a,b,a)},c.update=function(a){return c.create().update(a)};for(var e=0;e<p.length;++e){var f=p[e];c[f]=q(a,b,f)}return c},t=function(a,b){var c=r(a,b,"hex");c.create=function(c){return new d(a,b,c)},c.update=function(a,b){return c.create(b).update(a)};for(var e=0;e<p.length;++e){var f=p[e];c[f]=r(a,b,f)}return c},u=[{name:"keccak",padding:j,bits:n,createMethod:s},{name:"sha3",padding:k,bits:n,createMethod:s},{name:"shake",padding:i,bits:o,createMethod:t}],v={},w=[],x=0;x<u.length;++x)for(var y=u[x],z=y.bits,A=0;A<z.length;++A){var B=y.name+"_"+z[A];w.push(B),v[B]=y.createMethod(z[A],y.padding)}d.prototype.update=function(a){var b="string"!=typeof a;b&&a.constructor===ArrayBuffer&&(a=new Uint8Array(a));for(var c,d,e=a.length,f=this.blocks,g=this.byteCount,h=this.blockCount,i=0,j=this.s;i<e;){if(this.reset)for(this.reset=!1,f[0]=this.block,c=1;c<h+1;++c)f[c]=0;if(b)for(c=this.start;i<e&&c<g;++i)f[c>>2]|=a[i]<<l[3&c++];else for(c=this.start;i<e&&c<g;++i)d=a.charCodeAt(i),d<128?f[c>>2]|=d<<l[3&c++]:d<2048?(f[c>>2]|=(192|d>>6)<<l[3&c++],f[c>>2]|=(128|63&d)<<l[3&c++]):d<55296||d>=57344?(f[c>>2]|=(224|d>>12)<<l[3&c++],f[c>>2]|=(128|d>>6&63)<<l[3&c++],f[c>>2]|=(128|63&d)<<l[3&c++]):(d=65536+((1023&d)<<10|1023&a.charCodeAt(++i)),f[c>>2]|=(240|d>>18)<<l[3&c++],f[c>>2]|=(128|d>>12&63)<<l[3&c++],f[c>>2]|=(128|d>>6&63)<<l[3&c++],f[c>>2]|=(128|63&d)<<l[3&c++]);if(this.lastByteIndex=c,c>=g){for(this.start=c-g,this.block=f[h],c=0;c<h;++c)j[c]^=f[c];C(j),this.reset=!0}else this.start=c}return this},d.prototype.finalize=function(){var a=this.blocks,b=this.lastByteIndex,c=this.blockCount,d=this.s;if(a[b>>2]|=this.padding[3&b],this.lastByteIndex===this.byteCount)for(a[0]=a[c],b=1;b<c+1;++b)a[b]=0;for(a[c-1]|=2147483648,b=0;b<c;++b)d[b]^=a[b];C(d)},d.prototype.toString=d.prototype.hex=function(){this.finalize();for(var a,b=this.blockCount,c=this.s,d=this.outputBlocks,e=this.extraBytes,f=0,g=0,i="";g<d;){for(f=0;f<b&&g<d;++f,++g)a=c[f],i+=h[a>>4&15]+h[15&a]+h[a>>12&15]+h[a>>8&15]+h[a>>20&15]+h[a>>16&15]+h[a>>28&15]+h[a>>24&15];g%b===0&&(C(c),f=0)}return e&&(a=c[f],e>0&&(i+=h[a>>4&15]+h[15&a]),e>1&&(i+=h[a>>12&15]+h[a>>8&15]),e>2&&(i+=h[a>>20&15]+h[a>>16&15])),i},d.prototype.arrayBuffer=function(){this.finalize();var a,b=this.blockCount,c=this.s,d=this.outputBlocks,e=this.extraBytes,f=0,g=0,h=this.outputBits>>3;a=e?new ArrayBuffer(d+1<<2):new ArrayBuffer(h);for(var i=new Uint32Array(a);g<d;){for(f=0;f<b&&g<d;++f,++g)i[g]=c[f];g%b===0&&C(c)}return e&&(i[f]=c[f],a=a.slice(0,h)),a},d.prototype.buffer=d.prototype.arrayBuffer,d.prototype.digest=d.prototype.array=function(){this.finalize();for(var a,b,c=this.blockCount,d=this.s,e=this.outputBlocks,f=this.extraBytes,g=0,h=0,i=[];h<e;){for(g=0;g<c&&h<e;++g,++h)a=h<<2,b=d[g],i[a]=255&b,i[a+1]=b>>8&255,i[a+2]=b>>16&255,i[a+3]=b>>24&255;h%c===0&&C(d)}return f&&(a=h<<2,b=d[g],f>0&&(i[a]=255&b),f>1&&(i[a+1]=b>>8&255),f>2&&(i[a+2]=b>>16&255)),i};var C=function(a){var b,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka;for(d=0;d<48;d+=2)e=a[0]^a[10]^a[20]^a[30]^a[40],f=a[1]^a[11]^a[21]^a[31]^a[41],g=a[2]^a[12]^a[22]^a[32]^a[42],h=a[3]^a[13]^a[23]^a[33]^a[43],i=a[4]^a[14]^a[24]^a[34]^a[44],j=a[5]^a[15]^a[25]^a[35]^a[45],k=a[6]^a[16]^a[26]^a[36]^a[46],l=a[7]^a[17]^a[27]^a[37]^a[47],n=a[8]^a[18]^a[28]^a[38]^a[48],o=a[9]^a[19]^a[29]^a[39]^a[49],b=n^(g<<1|h>>>31),c=o^(h<<1|g>>>31),a[0]^=b,a[1]^=c,a[10]^=b,a[11]^=c,a[20]^=b,a[21]^=c,a[30]^=b,a[31]^=c,a[40]^=b,a[41]^=c,b=e^(i<<1|j>>>31),c=f^(j<<1|i>>>31),a[2]^=b,a[3]^=c,a[12]^=b,a[13]^=c,a[22]^=b,a[23]^=c,a[32]^=b,a[33]^=c,a[42]^=b,a[43]^=c,b=g^(k<<1|l>>>31),c=h^(l<<1|k>>>31),a[4]^=b,a[5]^=c,a[14]^=b,a[15]^=c,a[24]^=b,a[25]^=c,a[34]^=b,a[35]^=c,a[44]^=b,a[45]^=c,b=i^(n<<1|o>>>31),c=j^(o<<1|n>>>31),a[6]^=b,a[7]^=c,a[16]^=b,a[17]^=c,a[26]^=b,a[27]^=c,a[36]^=b,a[37]^=c,a[46]^=b,a[47]^=c,b=k^(e<<1|f>>>31),c=l^(f<<1|e>>>31),a[8]^=b,a[9]^=c,a[18]^=b,a[19]^=c,a[28]^=b,a[29]^=c,a[38]^=b,a[39]^=c,a[48]^=b,a[49]^=c,p=a[0],q=a[1],V=a[11]<<4|a[10]>>>28,W=a[10]<<4|a[11]>>>28,D=a[20]<<3|a[21]>>>29,E=a[21]<<3|a[20]>>>29,ha=a[31]<<9|a[30]>>>23,ia=a[30]<<9|a[31]>>>23,R=a[40]<<18|a[41]>>>14,S=a[41]<<18|a[40]>>>14,J=a[2]<<1|a[3]>>>31,K=a[3]<<1|a[2]>>>31,r=a[13]<<12|a[12]>>>20,s=a[12]<<12|a[13]>>>20,X=a[22]<<10|a[23]>>>22,Y=a[23]<<10|a[22]>>>22,F=a[33]<<13|a[32]>>>19,G=a[32]<<13|a[33]>>>19,ja=a[42]<<2|a[43]>>>30,ka=a[43]<<2|a[42]>>>30,ba=a[5]<<30|a[4]>>>2,ca=a[4]<<30|a[5]>>>2,L=a[14]<<6|a[15]>>>26,M=a[15]<<6|a[14]>>>26,t=a[25]<<11|a[24]>>>21,u=a[24]<<11|a[25]>>>21,Z=a[34]<<15|a[35]>>>17,$=a[35]<<15|a[34]>>>17,H=a[45]<<29|a[44]>>>3,I=a[44]<<29|a[45]>>>3,z=a[6]<<28|a[7]>>>4,A=a[7]<<28|a[6]>>>4,da=a[17]<<23|a[16]>>>9,ea=a[16]<<23|a[17]>>>9,N=a[26]<<25|a[27]>>>7,O=a[27]<<25|a[26]>>>7,v=a[36]<<21|a[37]>>>11,w=a[37]<<21|a[36]>>>11,_=a[47]<<24|a[46]>>>8,aa=a[46]<<24|a[47]>>>8,T=a[8]<<27|a[9]>>>5,U=a[9]<<27|a[8]>>>5,B=a[18]<<20|a[19]>>>12,C=a[19]<<20|a[18]>>>12,fa=a[29]<<7|a[28]>>>25,ga=a[28]<<7|a[29]>>>25,P=a[38]<<8|a[39]>>>24,Q=a[39]<<8|a[38]>>>24,x=a[48]<<14|a[49]>>>18,y=a[49]<<14|a[48]>>>18,a[0]=p^~r&t,a[1]=q^~s&u,a[10]=z^~B&D,a[11]=A^~C&E,a[20]=J^~L&N,a[21]=K^~M&O,a[30]=T^~V&X,a[31]=U^~W&Y,a[40]=ba^~da&fa,a[41]=ca^~ea&ga,a[2]=r^~t&v,a[3]=s^~u&w,a[12]=B^~D&F,a[13]=C^~E&G,a[22]=L^~N&P,a[23]=M^~O&Q,a[32]=V^~X&Z,a[33]=W^~Y&$,a[42]=da^~fa&ha,a[43]=ea^~ga&ia,a[4]=t^~v&x,a[5]=u^~w&y,a[14]=D^~F&H,a[15]=E^~G&I,a[24]=N^~P&R,a[25]=O^~Q&S,a[34]=X^~Z&_,a[35]=Y^~$&aa,a[44]=fa^~ha&ja,a[45]=ga^~ia&ka,a[6]=v^~x&p,a[7]=w^~y&q,a[16]=F^~H&z,a[17]=G^~I&A,a[26]=P^~R&J,a[27]=Q^~S&K,a[36]=Z^~_&T,a[37]=$^~aa&U,a[46]=ha^~ja&ba,a[47]=ia^~ka&ca,a[8]=x^~p&r,a[9]=y^~q&s,a[18]=H^~z&B,a[19]=I^~A&C,a[28]=R^~J&L,a[29]=S^~K&M,a[38]=_^~T&V,a[39]=aa^~U&W,a[48]=ja^~ba&da,a[49]=ka^~ca&ea,a[0]^=m[d],a[1]^=m[d+1]};if(g)b.exports=v;else for(var x=0;x<w.length;++x)e[w[x]]=v[w[x]]}()}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:50}],49:[function(a,b,c){function d(a,b){if(!a)throw new Error(b||"Assertion failed")}b.exports=d,d.equal=function(a,b,c){if(a!=b)throw new Error(c||"Assertion failed: "+a+" != "+b)}},{}],50:[function(a,b,c){b.exports=void 0},{}]},{},[1]);